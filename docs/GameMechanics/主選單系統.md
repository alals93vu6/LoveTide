# ğŸ  ä¸»é¸å–®ç³»çµ±

> LoveTide éŠæˆ²çš„å…¥å£æ§åˆ¶ä¸­å¿ƒï¼Œç®¡ç†éŠæˆ²å•Ÿå‹•ã€æ¨¡å¼é¸æ“‡å’Œæ ¸å¿ƒåŠŸèƒ½å°èˆª

---

## ğŸ¯ æ¦‚è¿°

ä¸»é¸å–®ç³»çµ±æ˜¯ LoveTide éŠæˆ²çš„ç¬¬ä¸€å€‹ç”¨æˆ¶æ¥è§¸é»ï¼Œè² è²¬éŠæˆ²å•Ÿå‹•æµç¨‹ã€æ¨¡å¼é¸æ“‡ã€é€²åº¦ç®¡ç†å’Œå„é …åŠŸèƒ½çš„å°èˆªå…¥å£ã€‚ç³»çµ±æ”¯æ´ä¸‰å‘¨ç›®æ©Ÿåˆ¶ï¼Œåœ¨ä¸åŒéšæ®µæä¾›ä¸åŒçš„åŠŸèƒ½é¸é …ï¼Œä¸¦åœ¨æœ€çµ‚å‘¨ç›®å®Œæˆå¾Œè§£é–è‡ªç”±æ¨¡å¼ã€‚

---

## ğŸ® ç³»çµ±ç‰¹è‰²

### ğŸ”„ **ä¸‰å‘¨ç›®æ”¯æ´**
- **ç¬¬ä¸€å‘¨ç›®**: åŸºç¤åŠŸèƒ½é¸é …ï¼ˆé–‹å§‹éŠæˆ²ã€ç¹¼çºŒéŠæˆ²ã€è¨­å®šã€çµæŸï¼‰
- **ç¬¬äºŒå‘¨ç›®**: å¢åŠ é€²åº¦ç›¸é—œæç¤ºå’Œå›é¡§åŠŸèƒ½
- **ç¬¬ä¸‰å‘¨ç›®**: è§£é–è‡ªç”±æ¨¡å¼ï¼Œæä¾›å®Œæ•´åŠŸèƒ½é›†
- **é€šé—œå¾Œ**: æ‰€æœ‰åŠŸèƒ½å®Œå…¨é–‹æ”¾ï¼ŒåŒ…æ‹¬CGè§€è³ç­‰

### ğŸ¨ **å‹•æ…‹èƒŒæ™¯ç³»çµ±**
- **èƒŒæ™¯åœ–ç‰‡åˆ‡æ›**: æ ¹æ“šéŠæˆ²é€²åº¦æ›´æ›ä¸»é¸å–®èƒŒæ™¯
- **Spineå‹•ç•«èƒŒæ™¯**: æ”¯æ´å‹•æ…‹è§’è‰²å‹•ç•«ä½œç‚ºèƒŒæ™¯
- **æ°›åœéŸ³æ¨‚**: é…åˆèƒŒæ™¯çš„é©æ‡‰æ€§èƒŒæ™¯éŸ³æ¨‚
- **è¦–è¦ºé€²åŒ–**: éš¨éŠæˆ²é€²å±•çš„è¦–è¦ºæ•ˆæœæå‡

### ğŸ¯ **åŠŸèƒ½å°èˆªä¸­å¿ƒ**
- **éŠæˆ²æ¨¡å¼å…¥å£**: åŠ‡æƒ…æ¨¡å¼ã€é¤Šæˆæ¨¡å¼ã€è‡ªç”±æ¨¡å¼
- **å…§å®¹ç®¡ç†**: CGè§€è³ã€å­˜æª”ç®¡ç†ã€è¨­å®šèª¿æ•´
- **é€²åº¦è¿½è¹¤**: éŠæˆ²å®Œæˆåº¦å’Œæˆå°±é€²åº¦é¡¯ç¤º
- **å¿«é€Ÿè¨ªå•**: é‡è¦åŠŸèƒ½çš„ä¸€éµç›´é”

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### ğŸ“Š ä¸»é¸å–®æ¶æ§‹åœ–
```
ğŸ  ä¸»é¸å–®ç³»çµ±
â”‚
â”œâ”€â”€ ğŸ¨ èƒŒæ™¯ç®¡ç† (MainMenuBackground)
â”‚   â”œâ”€â”€ éœæ…‹èƒŒæ™¯åœ–ç‰‡
â”‚   â”œâ”€â”€ Spineå‹•ç•«èƒŒæ™¯
â”‚   â”œâ”€â”€ å‘¨ç›®é€²åº¦æª¢æ¸¬
â”‚   â””â”€â”€ èƒŒæ™¯åˆ‡æ›æ•ˆæœ
â”‚
â”œâ”€â”€ ğŸ® åŠŸèƒ½æŒ‰éˆ•ç®¡ç† (MenuButtonManager)
â”‚   â”œâ”€â”€ æ ¸å¿ƒåŠŸèƒ½æŒ‰éˆ•
â”‚   â”œâ”€â”€ æ¢ä»¶é¡¯ç¤ºæ§åˆ¶
â”‚   â”œâ”€â”€ æŒ‰éˆ•ç‹€æ…‹ç®¡ç†
â”‚   â””â”€â”€ å‹•ç•«æ•ˆæœæ§åˆ¶
â”‚
â”œâ”€â”€ ğŸ“Š é€²åº¦æª¢æ¸¬ (ProgressDetector)
â”‚   â”œâ”€â”€ å‘¨ç›®é€²åº¦åˆ¤æ–·
â”‚   â”œâ”€â”€ è§£é–ç‹€æ…‹æª¢æŸ¥
â”‚   â”œâ”€â”€ å®Œæˆåº¦è¨ˆç®—
â”‚   â””â”€â”€ æ¢ä»¶åŠŸèƒ½é–‹æ”¾
â”‚
â”œâ”€â”€ ğŸµ éŸ³æ•ˆç®¡ç† (MainMenuAudio)
â”‚   â”œâ”€â”€ èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶
â”‚   â”œâ”€â”€ æŒ‰éˆ•éŸ³æ•ˆ
â”‚   â”œâ”€â”€ æ°›åœéŸ³æ•ˆ
â”‚   â””â”€â”€ éŸ³é‡å‹•æ…‹èª¿æ•´
â”‚
â””â”€â”€ ğŸ”— å ´æ™¯å°èˆª (SceneNavigator)
    â”œâ”€â”€ å ´æ™¯è¼‰å…¥æ§åˆ¶
    â”œâ”€â”€ éæ¸¡æ•ˆæœç®¡ç†
    â”œâ”€â”€ è¼‰å…¥é€²åº¦é¡¯ç¤º
    â””â”€â”€ éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
```

---

## ğŸ¨ èƒŒæ™¯ç³»çµ±è¨­è¨ˆ

### ğŸ–¼ï¸ èƒŒæ™¯åˆ‡æ›æ©Ÿåˆ¶
```csharp
public class MainMenuBackground : MonoBehaviour
{
    [Header("èƒŒæ™¯è³‡æº")]
    public Sprite[] backgroundSprites;        // ä¸åŒå‘¨ç›®çš„èƒŒæ™¯åœ–ç‰‡
    public SkeletonGraphic spineBackground;   // Spineå‹•ç•«èƒŒæ™¯
    public Image backgroundImage;             // èƒŒæ™¯é¡¯ç¤ºçµ„ä»¶
    
    [Header("åˆ‡æ›è¨­å®š")]
    public float fadeTransitionTime = 2.0f;
    public AnimationCurve fadeCurve;
    
    [Header("å‘¨ç›®æª¢æ¸¬")]
    public ProgressDetector progressDetector;
    
    void Start()
    {
        DetectAndSetBackground();
    }
    
    // ğŸ¯ æ ¹æ“šé€²åº¦è¨­å®šèƒŒæ™¯
    void DetectAndSetBackground()
    {
        int currentPlaythrough = progressDetector.GetCurrentPlaythrough();
        bool isCompleted = progressDetector.IsGameCompleted();
        
        if (isCompleted)
        {
            // å…¨é€šé—œå¾Œçš„ç‰¹æ®ŠèƒŒæ™¯
            SetCompletionBackground();
        }
        else
        {
            // æ ¹æ“šå‘¨ç›®è¨­å®šèƒŒæ™¯
            SetPlaythroughBackground(currentPlaythrough);
        }
    }
    
    // ğŸ¨ è¨­å®šå‘¨ç›®èƒŒæ™¯
    void SetPlaythroughBackground(int playthrough)
    {
        if (playthrough >= 0 && playthrough < backgroundSprites.Length)
        {
            StartCoroutine(FadeToBackground(backgroundSprites[playthrough]));
        }
    }
    
    // âœ¨ è¨­å®šå®ŒæˆèƒŒæ™¯ï¼ˆå¯èƒ½åŒ…å«Spineå‹•ç•«ï¼‰
    void SetCompletionBackground()
    {
        if (spineBackground != null)
        {
            // å•Ÿç”¨Spineå‹•ç•«èƒŒæ™¯
            spineBackground.gameObject.SetActive(true);
            backgroundImage.gameObject.SetActive(false);
        }
        else if (backgroundSprites.Length > 0)
        {
            // ä½¿ç”¨æœ€çµ‚èƒŒæ™¯åœ–ç‰‡
            SetPlaythroughBackground(backgroundSprites.Length - 1);
        }
    }
    
    // ğŸŒŠ èƒŒæ™¯æ·¡å…¥æ•ˆæœ
    IEnumerator FadeToBackground(Sprite newBackground)
    {
        Image tempImage = CreateTempBackgroundImage();
        tempImage.sprite = newBackground;
        tempImage.color = new Color(1, 1, 1, 0);
        
        float elapsedTime = 0;
        while (elapsedTime < fadeTransitionTime)
        {
            elapsedTime += Time.deltaTime;
            float progress = fadeCurve.Evaluate(elapsedTime / fadeTransitionTime);
            
            tempImage.color = new Color(1, 1, 1, progress);
            backgroundImage.color = new Color(1, 1, 1, 1 - progress);
            
            yield return null;
        }
        
        backgroundImage.sprite = newBackground;
        backgroundImage.color = Color.white;
        Destroy(tempImage.gameObject);
    }
}
```

---

## ğŸ® åŠŸèƒ½æŒ‰éˆ•ç³»çµ±

### ğŸ“‹ æŒ‰éˆ•é…ç½®èˆ‡ç‹€æ…‹
```csharp
public class MenuButtonManager : MonoBehaviour
{
    [System.Serializable]
    public class MenuButton
    {
        public Button buttonComponent;
        public string buttonName;
        public ButtonType type;
        public UnlockCondition unlockCondition;
        public bool isEnabled = true;
        public GameObject newFeatureIndicator; // "NEW"æ¨™è¨˜
    }
    
    [Header("æŒ‰éˆ•é…ç½®")]
    public MenuButton[] menuButtons;
    public ProgressDetector progressDetector;
    
    [Header("è¦–è¦ºæ•ˆæœ")]
    public float buttonHoverScale = 1.1f;
    public float buttonClickScale = 0.95f;
    public Color disabledButtonColor = Color.gray;
    
    void Start()
    {
        InitializeButtons();
        UpdateButtonStates();
    }
    
    // ğŸ¯ åˆå§‹åŒ–æŒ‰éˆ•
    void InitializeButtons()
    {
        foreach (MenuButton menuBtn in menuButtons)
        {
            // ç¶å®šé»æ“Šäº‹ä»¶
            menuBtn.buttonComponent.onClick.AddListener(() => {
                OnButtonClicked(menuBtn.type);
            });
            
            // æ·»åŠ Hoveræ•ˆæœ
            AddHoverEffect(menuBtn.buttonComponent);
        }
    }
    
    // ğŸ”„ æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
    public void UpdateButtonStates()
    {
        foreach (MenuButton menuBtn in menuButtons)
        {
            bool shouldEnable = CheckUnlockCondition(menuBtn.unlockCondition);
            SetButtonState(menuBtn, shouldEnable);
        }
    }
    
    // ğŸ”“ æª¢æŸ¥è§£é–æ¢ä»¶
    bool CheckUnlockCondition(UnlockCondition condition)
    {
        switch (condition)
        {
            case UnlockCondition.Always:
                return true;
            case UnlockCondition.HasSaveData:
                return progressDetector.HasAnySaveData();
            case UnlockCondition.SecondPlaythrough:
                return progressDetector.GetCurrentPlaythrough() >= 2;
            case UnlockCondition.GameCompleted:
                return progressDetector.IsGameCompleted();
            case UnlockCondition.FreeMode:
                return progressDetector.IsFreeModeUnlocked();
            default:
                return false;
        }
    }
    
    // ğŸ¨ è¨­å®šæŒ‰éˆ•ç‹€æ…‹
    void SetButtonState(MenuButton menuBtn, bool enabled)
    {
        menuBtn.buttonComponent.interactable = enabled;
        
        // è¦–è¦ºç‹€æ…‹èª¿æ•´
        Image buttonImage = menuBtn.buttonComponent.GetComponent<Image>();
        buttonImage.color = enabled ? Color.white : disabledButtonColor;
        
        // NEWæ¨™è¨˜è™•ç†
        if (menuBtn.newFeatureIndicator != null)
        {
            bool showNew = enabled && IsNewFeature(menuBtn.type);
            menuBtn.newFeatureIndicator.SetActive(showNew);
        }
    }
    
    // ğŸ¯ æŒ‰éˆ•é»æ“Šè™•ç†
    void OnButtonClicked(ButtonType buttonType)
    {
        switch (buttonType)
        {
            case ButtonType.StartGame:
                StartCoroutine(LoadGameScene("GameScene"));
                break;
            case ButtonType.ContinueGame:
                LoadLatestSave();
                break;
            case ButtonType.FreeMode:
                StartCoroutine(LoadGameScene("FreeModeScene"));
                break;
            case ButtonType.CGGallery:
                StartCoroutine(LoadGameScene("CGGallery"));
                break;
            case ButtonType.Settings:
                OpenSettingsPanel();
                break;
            case ButtonType.Credits:
                OpenCreditsPanel();
                break;
            case ButtonType.Exit:
                ConfirmExit();
                break;
        }
    }
}

public enum ButtonType
{
    StartGame,      // é–‹å§‹éŠæˆ²
    ContinueGame,   // ç¹¼çºŒéŠæˆ²
    FreeMode,       // è‡ªç”±æ¨¡å¼
    CGGallery,      // CGè§€è³
    Settings,       // è¨­å®š
    Credits,        // è£½ä½œåå–®
    Exit            // çµæŸéŠæˆ²
}

public enum UnlockCondition
{
    Always,             // ç¸½æ˜¯é¡¯ç¤º
    HasSaveData,        // æœ‰å­˜æª”æ™‚é¡¯ç¤º
    SecondPlaythrough,  // ç¬¬äºŒå‘¨ç›®å¾Œé¡¯ç¤º
    GameCompleted,      // éŠæˆ²é€šé—œå¾Œé¡¯ç¤º
    FreeMode           // è‡ªç”±æ¨¡å¼è§£é–å¾Œé¡¯ç¤º
}
```

---

## ğŸ“Š é€²åº¦æª¢æ¸¬ç³»çµ±

### ğŸ” PlaythroughDetector å‘¨ç›®æª¢æ¸¬å™¨
```csharp
public class ProgressDetector : MonoBehaviour
{
    [Header("é€²åº¦æª¢æ¸¬")]
    public SaveDataManager saveDataManager;
    
    [Header("å‘¨ç›®æ¨™è¨˜")]
    public string[] playthroughMarkers = {
        "first_playthrough_completed",
        "second_playthrough_completed", 
        "third_playthrough_completed"
    };
    
    // ğŸ¯ ç²å–ç•¶å‰å‘¨ç›®
    public int GetCurrentPlaythrough()
    {
        for (int i = playthroughMarkers.Length - 1; i >= 0; i--)
        {
            if (HasCompletedPlaythrough(i))
            {
                return i + 2; // ä¸‹ä¸€å€‹å‘¨ç›®
            }
        }
        return 1; // ç¬¬ä¸€å‘¨ç›®
    }
    
    // âœ… æª¢æŸ¥å‘¨ç›®å®Œæˆç‹€æ…‹
    public bool HasCompletedPlaythrough(int playthroughIndex)
    {
        if (playthroughIndex >= 0 && playthroughIndex < playthroughMarkers.Length)
        {
            return PlayerPrefs.GetInt(playthroughMarkers[playthroughIndex], 0) == 1;
        }
        return false;
    }
    
    // ğŸ æª¢æŸ¥éŠæˆ²å®Œå…¨é€šé—œ
    public bool IsGameCompleted()
    {
        return HasCompletedPlaythrough(playthroughMarkers.Length - 1);
    }
    
    // ğŸ†“ æª¢æŸ¥è‡ªç”±æ¨¡å¼è§£é–
    public bool IsFreeModeUnlocked()
    {
        return IsGameCompleted();
    }
    
    // ğŸ’¾ æª¢æŸ¥æ˜¯å¦æœ‰å­˜æª”
    public bool HasAnySaveData()
    {
        // æª¢æŸ¥ä»»æ„å­˜æª”æ§½ä½æ˜¯å¦æœ‰æ•¸æ“š
        for (int i = 0; i < 6; i++) // å‡è¨­æœ‰6å€‹å­˜æª”æ§½ä½
        {
            if (saveDataManager.HasSaveData(i))
            {
                return true;
            }
        }
        return false;
    }
    
    // ğŸ“ˆ ç²å–æ•´é«”å®Œæˆåº¦
    public float GetCompletionPercentage()
    {
        float completedPlaythroughs = 0;
        
        for (int i = 0; i < playthroughMarkers.Length; i++)
        {
            if (HasCompletedPlaythrough(i))
            {
                completedPlaythroughs++;
            }
        }
        
        return (completedPlaythroughs / playthroughMarkers.Length) * 100f;
    }
    
    // ğŸ–ï¸ ç²å–è§£é–åŠŸèƒ½åˆ—è¡¨
    public List<string> GetUnlockedFeatures()
    {
        List<string> unlockedFeatures = new List<string>();
        
        if (HasAnySaveData())
            unlockedFeatures.Add("ç¹¼çºŒéŠæˆ²");
            
        if (GetCurrentPlaythrough() >= 2)
            unlockedFeatures.Add("é€²éšé¸é …");
            
        if (IsGameCompleted())
        {
            unlockedFeatures.Add("è‡ªç”±æ¨¡å¼");
            unlockedFeatures.Add("CGè§€è³");
            unlockedFeatures.Add("å®Œæ•´è¨­å®š");
        }
        
        return unlockedFeatures;
    }
}
```

---

## ğŸµ éŸ³æ•ˆèˆ‡æ°›åœ

### ğŸ¶ MainMenuAudio éŸ³æ•ˆç®¡ç†å™¨
```csharp
public class MainMenuAudio : MonoBehaviour
{
    [Header("èƒŒæ™¯éŸ³æ¨‚")]
    public AudioClip[] backgroundMusic;     // ä¸åŒå‘¨ç›®çš„èƒŒæ™¯éŸ³æ¨‚
    public AudioSource bgmSource;
    
    [Header("UIéŸ³æ•ˆ")]
    public AudioClip buttonHoverSound;
    public AudioClip buttonClickSound;
    public AudioClip buttonDisabledSound;
    public AudioSource uiSoundSource;
    
    [Header("æ°›åœéŸ³æ•ˆ")]
    public AudioClip[] ambientSounds;      // ç’°å¢ƒéŸ³æ•ˆ
    public AudioSource ambientSource;
    
    [Header("éŸ³æ•ˆè¨­å®š")]
    public float bgmFadeTime = 2.0f;
    public float uiSoundVolume = 0.7f;
    
    void Start()
    {
        InitializeAudio();
    }
    
    // ğŸµ åˆå§‹åŒ–éŸ³æ•ˆç³»çµ±
    void InitializeAudio()
    {
        // æ ¹æ“šé€²åº¦é¸æ“‡èƒŒæ™¯éŸ³æ¨‚
        int currentPlaythrough = FindObjectOfType<ProgressDetector>().GetCurrentPlaythrough();
        PlayBackgroundMusic(currentPlaythrough - 1);
        
        // è¨­å®šéŸ³é‡
        ApplyVolumeSettings();
    }
    
    // ğŸ¼ æ’­æ”¾èƒŒæ™¯éŸ³æ¨‚
    public void PlayBackgroundMusic(int index)
    {
        if (index >= 0 && index < backgroundMusic.Length)
        {
            StartCoroutine(FadeToBGM(backgroundMusic[index]));
        }
    }
    
    // ğŸŒŠ éŸ³æ¨‚æ·¡å…¥æ·¡å‡º
    IEnumerator FadeToBGM(AudioClip newBGM)
    {
        // æ·¡å‡ºç•¶å‰éŸ³æ¨‚
        float startVolume = bgmSource.volume;
        while (bgmSource.volume > 0)
        {
            bgmSource.volume -= startVolume * Time.deltaTime / bgmFadeTime;
            yield return null;
        }
        
        // åˆ‡æ›éŸ³æ¨‚
        bgmSource.clip = newBGM;
        bgmSource.Play();
        
        // æ·¡å…¥æ–°éŸ³æ¨‚
        while (bgmSource.volume < startVolume)
        {
            bgmSource.volume += startVolume * Time.deltaTime / bgmFadeTime;
            yield return null;
        }
    }
    
    // ğŸ”Š æ’­æ”¾UIéŸ³æ•ˆ
    public void PlayButtonHover()
    {
        PlayUISound(buttonHoverSound);
    }
    
    public void PlayButtonClick()
    {
        PlayUISound(buttonClickSound);
    }
    
    public void PlayButtonDisabled()
    {
        PlayUISound(buttonDisabledSound);
    }
    
    void PlayUISound(AudioClip clip)
    {
        if (clip != null)
        {
            uiSoundSource.PlayOneShot(clip, uiSoundVolume);
        }
    }
}
```

---

## ğŸ”— å ´æ™¯å°èˆªç³»çµ±

### ğŸ¯ SceneNavigator å ´æ™¯è¼‰å…¥ç®¡ç†
```csharp
public class SceneNavigator : MonoBehaviour
{
    [Header("å ´æ™¯è¨­å®š")]
    public string gameSceneName = "GameScene";
    public string freeModeSceneName = "FreeModeScene";
    public string cgGallerySceneName = "CGGallery";
    public string settingsSceneName = "Settings";
    
    [Header("è¼‰å…¥æ•ˆæœ")]
    public GameObject loadingPanel;
    public Slider loadingProgressBar;
    public Text loadingText;
    public float minLoadingTime = 1.0f; // æœ€å°è¼‰å…¥æ™‚é–“ï¼Œç¢ºä¿ç”¨æˆ¶çœ‹åˆ°è¼‰å…¥ç•«é¢
    
    [Header("è½‰å ´æ•ˆæœ")]
    public Image transitionImage;
    public float transitionTime = 1.0f;
    
    // ğŸ¯ è¼‰å…¥éŠæˆ²å ´æ™¯
    public void LoadGameScene(string sceneName)
    {
        StartCoroutine(LoadSceneWithTransition(sceneName));
    }
    
    // ğŸ”„ è¼‰å…¥æœ€æ–°å­˜æª”
    public void LoadLatestSave()
    {
        SaveDataManager saveManager = FindObjectOfType<SaveDataManager>();
        int latestSaveSlot = saveManager.GetLatestSaveSlot();
        
        if (latestSaveSlot >= 0)
        {
            // è¨­å®šè¦è¼‰å…¥çš„å­˜æª”
            PlayerPrefs.SetInt("LoadSaveSlot", latestSaveSlot);
            LoadGameScene(gameSceneName);
        }
        else
        {
            Debug.LogWarning("æ²’æœ‰æ‰¾åˆ°å¯è¼‰å…¥çš„å­˜æª”");
            ShowErrorMessage("æ²’æœ‰æ‰¾åˆ°å¯è¼‰å…¥çš„å­˜æª”");
        }
    }
    
    // ğŸŒŠ å ´æ™¯åˆ‡æ›èˆ‡è½‰å ´æ•ˆæœ
    IEnumerator LoadSceneWithTransition(string sceneName)
    {
        // 1. é–‹å§‹è½‰å ´æ•ˆæœ
        yield return StartCoroutine(FadeOut());
        
        // 2. é¡¯ç¤ºè¼‰å…¥ç•«é¢
        ShowLoadingPanel(true);
        
        // 3. ç•°æ­¥è¼‰å…¥å ´æ™¯
        AsyncOperation asyncLoad = SceneManager.LoadSceneAsync(sceneName);
        asyncLoad.allowSceneActivation = false;
        
        float startTime = Time.time;
        
        // 4. æ›´æ–°è¼‰å…¥é€²åº¦
        while (!asyncLoad.isDone)
        {
            float progress = Mathf.Clamp01(asyncLoad.progress / 0.9f);
            UpdateLoadingProgress(progress);
            
            // ç¢ºä¿æœ€å°è¼‰å…¥æ™‚é–“
            bool minTimeReached = (Time.time - startTime) >= minLoadingTime;
            
            if (asyncLoad.progress >= 0.9f && minTimeReached)
            {
                asyncLoad.allowSceneActivation = true;
            }
            
            yield return null;
        }
        
        // 5. å®Œæˆè¼‰å…¥
        ShowLoadingPanel(false);
    }
    
    // ğŸŒ… æ·¡å‡ºæ•ˆæœ
    IEnumerator FadeOut()
    {
        transitionImage.gameObject.SetActive(true);
        
        float elapsedTime = 0;
        while (elapsedTime < transitionTime)
        {
            elapsedTime += Time.deltaTime;
            float alpha = Mathf.Clamp01(elapsedTime / transitionTime);
            transitionImage.color = new Color(0, 0, 0, alpha);
            yield return null;
        }
    }
    
    // ğŸ“Š æ›´æ–°è¼‰å…¥é€²åº¦
    void UpdateLoadingProgress(float progress)
    {
        if (loadingProgressBar != null)
        {
            loadingProgressBar.value = progress;
        }
        
        if (loadingText != null)
        {
            loadingText.text = $"è¼‰å…¥ä¸­... {(progress * 100):F0}%";
        }
    }
    
    // ğŸš¨ é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
    void ShowErrorMessage(string message)
    {
        // é€™è£¡å¯ä»¥é¡¯ç¤ºéŒ¯èª¤å°è©±æ¡†æˆ–æç¤º
        Debug.LogError(message);
    }
}
```

---

## ğŸ¨ UIå‹•æ•ˆèˆ‡è¦–è¦º

### âœ¨ è¦–è¦ºæ•ˆæœç³»çµ±
```csharp
public class MainMenuEffects : MonoBehaviour
{
    [Header("æŒ‰éˆ•å‹•æ•ˆ")]
    public float hoverScaleMultiplier = 1.1f;
    public float clickScaleMultiplier = 0.95f;
    public float animationDuration = 0.2f;
    
    [Header("èƒŒæ™¯æ•ˆæœ")]
    public ParticleSystem backgroundParticles;
    public Light atmosphericLight;
    public float lightPulseSpeed = 2.0f;
    
    [Header("NEWæ¨™è¨˜å‹•ç•«")]
    public GameObject[] newFeatureIndicators;
    public float pulseSpeed = 1.5f;
    public float pulseScale = 1.2f;
    
    void Update()
    {
        UpdateAtmosphericEffects();
        UpdateNewFeatureAnimations();
    }
    
    // ğŸŒŸ æ›´æ–°æ°›åœæ•ˆæœ
    void UpdateAtmosphericEffects()
    {
        if (atmosphericLight != null)
        {
            float intensity = 0.5f + Mathf.Sin(Time.time * lightPulseSpeed) * 0.2f;
            atmosphericLight.intensity = intensity;
        }
    }
    
    // âœ¨ æ›´æ–°NEWæ¨™è¨˜å‹•ç•«
    void UpdateNewFeatureAnimations()
    {
        foreach (GameObject indicator in newFeatureIndicators)
        {
            if (indicator.activeInHierarchy)
            {
                float scale = 1.0f + Mathf.Sin(Time.time * pulseSpeed) * (pulseScale - 1.0f);
                indicator.transform.localScale = Vector3.one * scale;
            }
        }
    }
    
    // ğŸª æŒ‰éˆ•Hoveræ•ˆæœ
    public void OnButtonHover(Button button)
    {
        button.transform.DOScale(hoverScaleMultiplier, animationDuration)
                        .SetEase(Ease.OutBack);
    }
    
    public void OnButtonExit(Button button)
    {
        button.transform.DOScale(1.0f, animationDuration)
                        .SetEase(Ease.OutBack);
    }
    
    // ğŸ¯ æŒ‰éˆ•é»æ“Šæ•ˆæœ
    public void OnButtonClick(Button button)
    {
        button.transform.DOScale(clickScaleMultiplier, animationDuration * 0.5f)
                        .SetEase(Ease.OutQuad)
                        .OnComplete(() => {
                            button.transform.DOScale(1.0f, animationDuration * 0.5f)
                                          .SetEase(Ease.OutBack);
                        });
    }
}
```

---

## ğŸ”§ ç³»çµ±æ•´åˆèˆ‡è¨­å®š

### ğŸ’¾ èˆ‡å­˜æª”ç³»çµ±æ•´åˆ
- **å­˜æª”æª¢æ¸¬**: è‡ªå‹•æª¢æ¸¬å¯ç”¨å­˜æª”ä¸¦æ›´æ–°ç¹¼çºŒéŠæˆ²æŒ‰éˆ•ç‹€æ…‹
- **å¿«é€Ÿè¼‰å…¥**: æä¾›è¼‰å…¥æœ€æ–°å­˜æª”çš„å¿«æ·åŠŸèƒ½
- **å­˜æª”é è¦½**: é¡¯ç¤ºå­˜æª”çš„åŸºæœ¬ä¿¡æ¯ï¼ˆæ—¥æœŸã€é€²åº¦ç­‰ï¼‰
- **å­˜æª”ç®¡ç†**: æ•´åˆå­˜æª”åˆªé™¤å’Œç®¡ç†åŠŸèƒ½

### âš™ï¸ èˆ‡è¨­å®šç³»çµ±æ•´åˆ
- **éŸ³é‡è¨­å®š**: å¯¦æ™‚åæ˜ éŸ³æ•ˆè¨­å®šçš„è®ŠåŒ–
- **èªè¨€åˆ‡æ›**: æ”¯æ´ä¸»é¸å–®ç•Œé¢çš„å¤šèªè¨€åˆ‡æ›
- **ç•«è³ªè¨­å®š**: æ ¹æ“šç•«è³ªè¨­å®šèª¿æ•´ä¸»é¸å–®è¦–è¦ºæ•ˆæœ
- **å¿«æ·éµ**: æ”¯æ´éµç›¤å¿«æ·éµæ“ä½œ

---

## ğŸ’¬ Claude ä½¿ç”¨æç¤º

### ğŸ¯ ç³»çµ±é‡é»
1. **ä¸‰å‘¨ç›®æ©Ÿåˆ¶**: ç¢ºä¿ä¸åŒéšæ®µæä¾›é©ç•¶çš„åŠŸèƒ½é¸é …
2. **é€²åº¦æª¢æ¸¬**: æº–ç¢ºæª¢æ¸¬éŠæˆ²é€²åº¦ä¸¦ç›¸æ‡‰èª¿æ•´UIç‹€æ…‹
3. **è¦–è¦ºå›é¥‹**: æä¾›æ¸…æ™°çš„è¦–è¦ºæç¤ºå’Œç‹€æ…‹åé¥‹
4. **ç”¨æˆ¶é«”é©—**: æµæš¢çš„å°èˆªå’Œè¼‰å…¥é«”é©—

### ğŸ”§ é–‹ç™¼å»ºè­°
- å„ªå…ˆå¯¦ä½œé€²åº¦æª¢æ¸¬å’ŒåŸºç¤åŠŸèƒ½æŒ‰éˆ•
- ç¢ºä¿å ´æ™¯è¼‰å…¥çš„ç©©å®šæ€§å’ŒéŒ¯èª¤è™•ç†
- æ³¨é‡è¦–è¦ºæ•ˆæœå’ŒéŸ³æ•ˆçš„æ•´é«”å”èª¿
- è€ƒæ…®ä¸åŒå¹³å°çš„é©é…éœ€æ±‚

### âš ï¸ æ³¨æ„äº‹é …
- å¦¥å–„è™•ç†æ²’æœ‰å­˜æª”æ™‚çš„æƒ…æ³
- ç¢ºä¿ä¸‰å‘¨ç›®æ©Ÿåˆ¶çš„é‚è¼¯æ­£ç¢ºæ€§
- æä¾›é©ç•¶çš„è¼‰å…¥æ™‚é–“å’Œé€²åº¦åé¥‹
- è€ƒæ…®ç”¨æˆ¶çš„æ“ä½œç¿’æ…£å’ŒæœŸæœ›

---

**æœ€å¾Œæ›´æ–°**: 2025-07-30  
**ç‰ˆæœ¬**: 1.0  
**ç¶­è­·è€…**: é–‹ç™¼åœ˜éšŠ + Claude AI

> ğŸ  **ç³»çµ±åƒ¹å€¼**: ä¸»é¸å–®ç³»çµ±ä½œç‚ºéŠæˆ²çš„é–€é¢ï¼Œä¸åƒ…è¦æä¾›åŠŸèƒ½å°èˆªï¼Œæ›´è¦é€šéç²¾å¿ƒè¨­è¨ˆçš„è¦–è¦ºæ•ˆæœå’Œäº¤äº’é«”é©—ï¼Œç‚ºç©å®¶ç‡Ÿé€ è‰¯å¥½çš„ç¬¬ä¸€å°è±¡ï¼Œä¸¦åœ¨æ•´å€‹éŠæˆ²é«”é©—ä¸­ä¿æŒä¸€è‡´çš„å“è³ªæ¨™æº–ï¼ âœ¨