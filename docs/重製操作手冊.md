# ğŸ”§ GamePlayå ´æ™¯é‡è£½æ“ä½œæ‰‹å†Š

> å…¨æ–°è…³æœ¬ç³»çµ±çš„ç‰©ä»¶é…ç½®èˆ‡è…³æœ¬å°æ‡‰æŒ‡å—

---

## ğŸ“‹ æ“ä½œæ‰‹å†Šç›®çš„

æœ¬æ‰‹å†Šç”¨æ–¼æŒ‡å°GamePlayå ´æ™¯çš„é‡è£½å·¥ç¨‹ï¼Œè¨˜éŒ„äº†ï¼š
- ç¾æœ‰ç‰©ä»¶çµæ§‹åˆ†æ
- æ–°ç³»çµ±è…³æœ¬é…ç½®æ–¹æ¡ˆ
- ç‰©ä»¶å±¤ç´šçµ„ç¹”è¦åŠƒ
- Canvasåˆ†å±¤å¯¦ä½œæŒ‡å—

---

## ğŸ” ç•¶å‰å ´æ™¯ç‰©ä»¶çµæ§‹åˆ†æ

æ ¹æ“šæä¾›çš„Hierarchyæˆªåœ–ï¼Œç•¶å‰GamePlaySceneåŒ…å«ä»¥ä¸‹ä¸»è¦ç‰©ä»¶ï¼š

### ğŸ“· **æ”å½±æ©Ÿç³»çµ±**
```
ğŸ“¹ Main Camera
â””â”€â”€ è² è²¬å ´æ™¯æ¸²æŸ“å’ŒUIé¡¯ç¤º
```

### ğŸ¨ **Canvasä¸»é«”çµæ§‹**
```
ğŸ“± Canvas
â”œâ”€â”€ ğŸ—ºï¸ MapChose          - åœ°åœ–é¸æ“‡ç³»çµ±
â”œâ”€â”€ ğŸ’¬ TalkObject         - å°è©±ç‰©ä»¶ç³»çµ±
â”‚   â””â”€â”€ ğŸ“ Text
â”œâ”€â”€ ğŸ”² OutingObj         - å¤–å‡ºç‰©ä»¶ç³»çµ±  
â”œâ”€â”€ â„¹ï¸ InformationUI     - è³‡è¨ŠUIç³»çµ±
â”œâ”€â”€ ğŸ® GameObject        - é€šç”¨éŠæˆ²ç‰©ä»¶
â”œâ”€â”€ ğŸ”² OutUI             - å¤–å‡ºUI
â”œâ”€â”€ âš™ï¸ ConfigureSystem   - è¨­å®šç³»çµ±
â”œâ”€â”€ ğŸ­ DirtyTricks       - ç‰¹æ•ˆç³»çµ±
â”œâ”€â”€ ğŸ“¡ EventSystem       - äº‹ä»¶ç³»çµ±
â”œâ”€â”€ ğŸª PlayerActor       - ç©å®¶æ¼”å“¡
â”œâ”€â”€ ğŸ® GameManager       - éŠæˆ²ç®¡ç†å™¨
â”œâ”€â”€ ğŸ¨ GameUICtrlManager - UIæ§åˆ¶ç®¡ç†å™¨
â”œâ”€â”€ â° TimeManager       - æ™‚é–“ç®¡ç†å™¨
â”œâ”€â”€ ğŸ“Š NumericalRecords  - æ•¸å€¼è¨˜éŒ„
â”œâ”€â”€ ğŸ“Š NumericalRecords_PlayerSetting - ç©å®¶è¨­å®šæ•¸å€¼
â”œâ”€â”€ ğŸ­ ActorManager      - æ¼”å“¡ç®¡ç†å™¨
â””â”€â”€ ğŸ“ TextBoxManager    - æ–‡å­—æ¡†ç®¡ç†å™¨
```

### ğŸ—ï¸ **å ´æ™¯ç‰©ä»¶ç³»çµ±**
```
ğŸ  SceneObject
â”œâ”€â”€ ğŸ“ 0                 - å ´æ™¯ç‰©ä»¶ç´¢å¼•0
â”œâ”€â”€ ğŸº Tavern           - é…’å§å ´æ™¯
â”‚   â””â”€â”€ ğŸº Interactive_Tavern
â”œâ”€â”€ ğŸ  Dormitories      - å®¿èˆå ´æ™¯
â”‚   â””â”€â”€ ğŸ  Interactive_Dormitories  
â”œâ”€â”€ ğŸ  Interactive_Room - æˆ¿é–“äº’å‹•
â””â”€â”€ ğŸ’¬ Talk             - å°è©±ç³»çµ±
    â””â”€â”€ ğŸ”² Other
```

### ğŸ–¼ï¸ **èƒŒæ™¯ç³»çµ±**
```
ğŸ¨ BackGround
â”œâ”€â”€ ğŸ–¼ï¸ BackGroundObject
â”œâ”€â”€ ğŸ–¼ï¸ Image
â””â”€â”€ ğŸ§ª JosnTest
```

---

## ğŸ†• æ–°ç³»çµ±é‡è£½é…ç½®æ–¹æ¡ˆ

### ğŸ¨ **å®Œæ•´å ´æ™¯çµæ§‹ç¸½é è¦½åœ–**

ä»¥ä¸‹æ˜¯é‡è£½å¾Œçš„å®Œæ•´GamePlayScene Hierarchyçµæ§‹ï¼š

```
ğŸ® GamePlayScene (é‡è£½ç‰ˆå®Œæ•´çµæ§‹)
â”‚
â”œâ”€â”€ ğŸ“¹ Main Camera
â”‚   â”œâ”€â”€ ğŸµ AudioListener
â”‚   â””â”€â”€ ğŸ“· CameraController.cs (å¯é¸)
â”‚
â”œâ”€â”€ ğŸŒ WorldSpace (ä¸–ç•Œç©ºé–“ç‰©ä»¶å€åŸŸ)
â”‚   â”œâ”€â”€ ğŸ—ï¸ Environment (ç’°å¢ƒç‰©ä»¶)
â”‚   â”‚   â”œâ”€â”€ ğŸ  TavernBuilding (é…’å§å»ºç¯‰)
â”‚   â”‚   â”œâ”€â”€ ğŸ  DormitoryBuilding (å®¿èˆå»ºç¯‰)
â”‚   â”‚   â”œâ”€â”€ ğŸª‘ Furniture (å®¶å…·ç‰©ä»¶)
â”‚   â”‚   â””â”€â”€ ğŸ’¡ Lighting (å…‰ç…§ç³»çµ±)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ­ Characters (è§’è‰²ç‰©ä»¶)
â”‚   â”‚   â”œâ”€â”€ ğŸ‘© Yuka (Spineè§’è‰²)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ¦´ SkeletonAnimation
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ­ ActorManagerTest.cs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸš¶â€â™€ï¸ CharacterMovement.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ± Cat (è²“å’ªç‰©ä»¶)
â”‚   â”‚       â”œâ”€â”€ ğŸ–¼ï¸ SpriteRenderer
â”‚   â”‚       â””â”€â”€ ğŸ¾ CatBehavior.cs
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ¨ BackgroundObjects (èƒŒæ™¯ç‰©ä»¶)
â”‚       â”œâ”€â”€ ğŸ–¼ï¸ TavernBackground
â”‚       â”œâ”€â”€ ğŸ–¼ï¸ DormitoryBackground
â”‚       â””â”€â”€ ğŸŒ… EnvironmentalEffects
â”‚
â”œâ”€â”€ ğŸ® CoreManagers (æ ¸å¿ƒç®¡ç†å™¨å€åŸŸ)
â”‚   â”œâ”€â”€ ğŸ¯ NewGameManager ğŸ†•
â”‚   â”‚   â”œâ”€â”€ NewGameManager.cs
â”‚   â”‚   â”œâ”€â”€ SceneStateManager.cs
â”‚   â”‚   â””â”€â”€ GameDataManager.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸª InteractionManager ğŸ†•
â”‚   â”‚   â”œâ”€â”€ InteractionManager.cs
â”‚   â”‚   â”œâ”€â”€ InteractionConditionChecker.cs
â”‚   â”‚   â””â”€â”€ InteractionResultProcessor.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ â° TimeManager (ä¿ç•™)
â”‚   â”‚   â””â”€â”€ TimeManagerTest.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“Š NumericalRecords (ä¿ç•™)
â”‚   â”‚   â””â”€â”€ NumericalRecords.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“Š NumericalRecords_PlayerSetting (ä¿ç•™)
â”‚   â”‚   â””â”€â”€ NumericalRecords_PlayerSetting.cs
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“¡ EventSystem (ä¿ç•™)
â”‚       â””â”€â”€ EventSystem (Unityé è¨­)
â”‚
â””â”€â”€ ğŸ¨ UISystem (UIç³»çµ±å€åŸŸ - Canvaså±¤ç´š)
    â”‚
    â”œâ”€â”€ ğŸ–¼ï¸ BackgroundCanvas (Order: 0)
    â”‚   â”œâ”€â”€ ğŸ¨ NewUIManager ğŸ†•
    â”‚   â”‚   â”œâ”€â”€ NewUIManager.cs
    â”‚   â”‚   â”œâ”€â”€ CanvasLayerManager.cs
    â”‚   â”‚   â””â”€â”€ UIAnimationController.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ BackGroundObject (å¾åŸBackGroundç§»å‹•)
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ SceneBackground (æ–°å¢)
    â”‚   â””â”€â”€ ğŸ­ EnvironmentEffects (æ–°å¢)
    â”‚
    â”œâ”€â”€ ğŸ  StaticInteractionCanvas (Order: 40) ğŸ†•
    â”‚   â”œâ”€â”€ ğŸ¯ StaticObjectInteraction (ä¸»æ§åˆ¶å™¨)
    â”‚   â”‚   â”œâ”€â”€ StaticObjectInteraction.cs
    â”‚   â”‚   â”œâ”€â”€ WorkSceneInteraction.cs
    â”‚   â”‚   â”œâ”€â”€ DormSceneInteraction.cs
    â”‚   â”‚   â””â”€â”€ SceneObjectManager.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸº TavernInteractionButton (å·¥ä½œå ´æ™¯)
    â”‚   â”‚   â”œâ”€â”€ Button (UI Component)
    â”‚   â”‚   â””â”€â”€ TavernInteractionHandler.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ± CatInteractionButton (å’Œè²“äº’å‹•)
    â”‚   â”‚   â”œâ”€â”€ Button (UI Component)
    â”‚   â”‚   â””â”€â”€ CatInteractionHandler.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸšª ExitButton (å¤–å‡ºç³»çµ±)
    â”‚   â”‚   â”œâ”€â”€ Button (UI Component)
    â”‚   â”‚   â””â”€â”€ ExitInteractionHandler.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ  DormInteractionButton (å®¿èˆå ´æ™¯)
    â”‚   â”‚   â”œâ”€â”€ Button (UI Component)
    â”‚   â”‚   â””â”€â”€ DormInteractionHandler.cs
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ· DrinkingInviteButton (é‚€è«‹å–é…’)
    â”‚       â”œâ”€â”€ Button (UI Component)
    â”‚       â””â”€â”€ DrinkingInteractionHandler.cs
    â”‚
    â”œâ”€â”€ ğŸª DynamicCharacterCanvas (Order: 50) ğŸ†•
    â”‚   â”œâ”€â”€ ğŸ¯ DynamicCharacterInteraction (ä¸»æ§åˆ¶å™¨)
    â”‚   â”‚   â”œâ”€â”€ DynamicCharacterInteraction.cs
    â”‚   â”‚   â”œâ”€â”€ CharacterFollowButton.cs
    â”‚   â”‚   â”œâ”€â”€ YukaInteractionController.cs
    â”‚   â”‚   â””â”€â”€ CharacterInteractionFeedback.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ‘© YukaInteractionButton (é€æ˜è·Ÿéš¨Button)
    â”‚   â”‚   â”œâ”€â”€ Button (UI Component)
    â”‚   â”‚   â”œâ”€â”€ RectTransform (ä½ç½®è·Ÿéš¨)
    â”‚   â”‚   â””â”€â”€ Image (é€æ˜èƒŒæ™¯)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ âœ¨ CharacterHoverEffect (è§’è‰²Hoveræ•ˆæœ)
    â”‚   â”‚   â”œâ”€â”€ Image (UI Component)
    â”‚   â”‚   â””â”€â”€ HoverEffectController.cs
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ¯ InteractionIndicator (äº’å‹•æŒ‡ç¤ºå™¨)
    â”‚       â”œâ”€â”€ Image (UI Component)
    â”‚       â””â”€â”€ IndicatorAnimationController.cs
    â”‚
    â”œâ”€â”€ ğŸ® GameUICanvas (Order: 60)<å¾…æ›´æ”¹>
    â”‚   â”œâ”€â”€ â° TimeDisplay (æ™‚é–“é¡¯ç¤º)
    â”‚   â”‚   â”œâ”€â”€ Text (UI Component)
    â”‚   â”‚   â””â”€â”€ TimeDisplayController.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ’° StatusDisplay (ç‹€æ…‹é¡¯ç¤º)
    â”‚   â”‚   â”œâ”€â”€ Text/Image (UI Components)
    â”‚   â”‚   â””â”€â”€ StatusDisplayController.cs
    â”‚   â”‚
    â”‚   â”œâ”€â”€ âš™ï¸ SettingsButton (è¨­å®šæŒ‰éˆ•)
    â”‚   â”‚   â”œâ”€â”€ Button (UI Component)
    â”‚   â”‚   â””â”€â”€ SettingsButtonHandler.cs
    â”‚   â”‚
    â”‚   â””â”€â”€ â„¹ï¸ InformationUI (è³‡è¨ŠUIï¼Œå¾åŸCanvasç§»å‹•)
    â”‚       â”œâ”€â”€ InformationUI_ClickObject.cs (ä¿ç•™)
    â”‚       â””â”€â”€ Related UI Components
    â”‚
    â”œâ”€â”€ ğŸ’¬ DialogCanvas (Order: 70)
    â”‚   â”œâ”€â”€ ğŸ’¬ TalkObject (å¾åŸCanvasç§»å‹•)
    â”‚   â”‚   â”œâ”€â”€ Text (UI Component)
    â”‚   â”‚   â””â”€â”€ Related Scripts (ä¿ç•™)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ“ TextBoxManager (å¾åŸä½ç½®ç§»å‹•)
    â”‚   â”‚   â”œâ”€â”€ TextBoxTestPlaying.cs (ä¿ç•™)
    â”‚   â”‚   â””â”€â”€ Related UI Components
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ”² DialogChoicePanel (æ–°å¢)
    â”‚   â”‚   â”œâ”€â”€ DialogChoiceManager.cs
    â”‚   â”‚   â””â”€â”€ Choice Buttons
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ”— DialogIntegrationBridge (æ–°å¢)
    â”‚       â””â”€â”€ DialogIntegrationBridge.cs
    â”‚
    â”œâ”€â”€ ğŸ“‹ MenuCanvas (Order: 80)
    â”‚   â”œâ”€â”€ âš™ï¸ ConfigureSystem (å¾åŸCanvasç§»å‹•)
    â”‚   â”‚   â”œâ”€â”€ ConfigureSystem Scripts (ä¿ç•™)
    â”‚   â”‚   â””â”€â”€ Settings UI Panels
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ—ºï¸ MapChose (å¾åŸCanvasç§»å‹•)
    â”‚   â”‚   â”œâ”€â”€ MapChose Scripts (ä¿ç•™)
    â”‚   â”‚   â””â”€â”€ Map UI Components
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ”² OutingPanel (é‡çµ„OutingObj)
    â”‚   â”‚   â”œâ”€â”€ OutingPanelController.cs
    â”‚   â”‚   â””â”€â”€ Outing UI Components
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ”² OutUI (å¾åŸä½ç½®ç§»å‹•)
    â”‚       â””â”€â”€ Related Components (ä¿ç•™)
    â”‚
    â””â”€â”€ ğŸš¨ PopupCanvas (Order: 90)
        â”œâ”€â”€ ğŸ­ DirtyTricks (å¾åŸCanvasç§»å‹•)
        â”‚   â”œâ”€â”€ DirtyTrickCtrl.cs (ä¿ç•™)
        â”‚   â””â”€â”€ Transition Effects
        â”‚
        â”œâ”€â”€ ğŸ’¾ SaveLoadPanel (æ–°å¢)
        â”‚   â”œâ”€â”€ SaveLoadController.cs
        â”‚   â””â”€â”€ Save/Load UI Components
        â”‚
        â””â”€â”€ âš ï¸ ConfirmationDialog (æ–°å¢)
            â”œâ”€â”€ ConfirmationDialogController.cs
            â””â”€â”€ Confirmation UI Components
```

### ğŸ¯ **å±¤ç´šçµæ§‹èªªæ˜**

#### ğŸŒ **WorldSpaceå€åŸŸ** (éCanvas) //é€™æ˜¯2DéŠæˆ² æ²’æœ‰3Då ´æ™¯ç‰©ä»¶
- **3Dç‰©ä»¶ä¿æŒä¸–ç•Œç©ºé–“** - ç’°å¢ƒã€è§’è‰²ã€èƒŒæ™¯
- **Spineè§’è‰²å‹•ç•«** - ç”±é¦™åœ¨ä¸–ç•Œç©ºé–“æ­£å¸¸é‹ä½œ
- **ç‰©ç†ç¢°æ’** - è²“å’ªç­‰ç‰©ä»¶çš„å¯¦éš›3Däº’å‹•

#### ğŸ¨ **UISystemå€åŸŸ** (Canvasåˆ†å±¤)
- **7å±¤Canvasæ¶æ§‹** - æ¸…æ™°çš„UIå±¤ç´šç®¡ç†
- **äº’å‹•æª¢æ¸¬åˆ†é›¢** - éœæ…‹èˆ‡å‹•æ…‹äº’å‹•å®Œå…¨åˆ†é–‹
- **è¦–è¦ºæ•ˆæœé›†ä¸­** - æ‰€æœ‰UIæ•ˆæœçµ±ä¸€ç®¡ç†

#### ğŸ® **CoreManagerså€åŸŸ** (é‚è¼¯ç®¡ç†)
- **æ–°èˆŠç³»çµ±å…±å­˜** - ä¿ç•™ç©©å®šçµ„ä»¶ï¼Œæ–°å¢å¿…è¦åŠŸèƒ½
- **çµ±ä¸€å”èª¿** - æ‰€æœ‰ç®¡ç†å™¨åœ¨åŒä¸€å±¤ç´šä¾¿æ–¼å¼•ç”¨
- **äº‹ä»¶é©…å‹•** - å„ç³»çµ±é–“é€šéäº‹ä»¶é€šä¿¡

---

## ğŸ¯ è…³æœ¬é…ç½®æ–¹æ¡ˆ

### ğŸ—ï¸ **æ ¸å¿ƒç®¡ç†å™¨æ¶æ§‹**

#### ğŸ® **æ–°ç‰ˆGameManager**
```csharp
// æ–°å¢ï¼šNewGameManager.cs
ç‰©ä»¶ä½ç½®: GamePlayScene Root
è…³æœ¬é…ç½®:
â”œâ”€â”€ NewGameManager.cs (ä¸»æ§åˆ¶å™¨) ğŸ†•
â”œâ”€â”€ SceneStateManager.cs (å ´æ™¯ç‹€æ…‹ç®¡ç†) ğŸ†•
â””â”€â”€ GameDataManager.cs (éŠæˆ²æ•¸æ“šç®¡ç†) ğŸ†•

åŠŸèƒ½èªªæ˜:
- æ›¿ä»£åŸæœ‰GameManagerï¼Œä½¿ç”¨å…¨æ–°æ¶æ§‹
- ç®¡ç†éŠæˆ²ç‹€æ…‹ã€å ´æ™¯åˆ‡æ›ã€æ•¸æ“šåŒæ­¥
- èˆ‡æ™‚é–“ç³»çµ±ã€æ•¸å€¼ç³»çµ±ã€æ¼”å“¡ç³»çµ±å”èª¿
```

#### ğŸ¨ **æ–°ç‰ˆUIç®¡ç†å™¨**
```csharp
// æ–°å¢ï¼šNewUIManager.cs  
ç‰©ä»¶ä½ç½®: GameUICanvas
è…³æœ¬é…ç½®:
â”œâ”€â”€ NewUIManager.cs (UIç¸½æ§åˆ¶å™¨) ğŸ†•
â”œâ”€â”€ CanvasLayerManager.cs (Canvasåˆ†å±¤ç®¡ç†) ğŸ†•
â””â”€â”€ UIAnimationController.cs (UIå‹•ç•«æ§åˆ¶) ğŸ†•

åŠŸèƒ½èªªæ˜:
- ç®¡ç†7å±¤Canvasçš„é¡¯ç¤ºå’Œéš±è—
- æ§åˆ¶UIå‹•ç•«å’Œè½‰å ´æ•ˆæœ
- æ›¿ä»£åŸæœ‰GameUICtrlManager
```

### ğŸª **äº’å‹•ç³»çµ±è…³æœ¬é…ç½®**

#### ğŸ¯ **ä¸»è¦äº’å‹•ç®¡ç†å™¨**
```csharp
// æ–°å¢ï¼šInteractionManager.cs
ç‰©ä»¶ä½ç½®: GamePlayScene Root
è…³æœ¬é…ç½®:
â”œâ”€â”€ InteractionManager.cs (äº’å‹•çµ±ä¸€ç®¡ç†) ğŸ†•
â”œâ”€â”€ InteractionConditionChecker.cs (æ¢ä»¶æª¢æŸ¥) ğŸ†•
â””â”€â”€ InteractionResultProcessor.cs (çµæœè™•ç†) ğŸ†•

åŠŸèƒ½èªªæ˜:
- çµ±ä¸€ç®¡ç†æ‰€æœ‰äº’å‹•ç³»çµ±
- æª¢æŸ¥äº’å‹•è§£é–æ¢ä»¶
- è™•ç†äº’å‹•çµæœå’Œæ•¸å€¼è®ŠåŒ–
```

#### ğŸ‘© **å‹•æ…‹è§’è‰²äº’å‹•**
```csharp
// æ–°å¢ï¼šDynamicCharacterInteraction.cs
ç‰©ä»¶ä½ç½®: DynamicCharacterCanvas
è…³æœ¬é…ç½®:
â”œâ”€â”€ DynamicCharacterInteraction.cs (ä¸»æ§åˆ¶å™¨) ğŸ†•
â”œâ”€â”€ CharacterFollowButton.cs (Buttonè·Ÿéš¨é‚è¼¯) ğŸ†•
â”œâ”€â”€ YukaInteractionController.cs (ç”±é¦™å°ˆç”¨æ§åˆ¶å™¨) ğŸ†•
â””â”€â”€ CharacterInteractionFeedback.cs (è¦–è¦ºåé¥‹) ğŸ†•

ç›®æ¨™ç‰©ä»¶:
â”œâ”€â”€ YukaInteractionButton (Buttonçµ„ä»¶)
â”œâ”€â”€ YukaHoverEffect (è¦–è¦ºæ•ˆæœ)
â””â”€â”€ InteractionIndicator (äº’å‹•æŒ‡ç¤ºå™¨)

åŠŸèƒ½èªªæ˜:
- é€æ˜Buttonè·Ÿéš¨ç”±é¦™Spineè§’è‰²ç§»å‹•
- World Space â†” Screen Space åº§æ¨™è½‰æ›
- Hoverå’Œé»æ“Šè¦–è¦ºåé¥‹
- é¡¯ç¤ºç”±é¦™å°è©±é¸å–®
```

#### ğŸ  **éœæ…‹ç‰©ä»¶äº’å‹•**
```csharp
// æ–°å¢ï¼šStaticObjectInteraction.cs
ç‰©ä»¶ä½ç½®: StaticInteractionCanvas
è…³æœ¬é…ç½®:
â”œâ”€â”€ StaticObjectInteraction.cs (ä¸»æ§åˆ¶å™¨) ğŸ†•
â”œâ”€â”€ WorkSceneInteraction.cs (å·¥ä½œå ´æ™¯äº’å‹•) ğŸ†•
â”œâ”€â”€ DormSceneInteraction.cs (å®¿èˆå ´æ™¯äº’å‹•) ğŸ†•
â””â”€â”€ SceneObjectManager.cs (å ´æ™¯ç‰©ä»¶ç®¡ç†) ğŸ†•

ç›®æ¨™ç‰©ä»¶é…ç½®:
â”œâ”€â”€ TavernInteractionButton (å¹«å¿™å·¥ä½œ) - Button + TavernInteractionHandler.cs
â”œâ”€â”€ CatInteractionButton (å’Œè²“äº’å‹•) - Button + CatInteractionHandler.cs
â”œâ”€â”€ ExitButton (å¤–å‡ºç³»çµ±) - Button + ExitInteractionHandler.cs
â”œâ”€â”€ DormInteractionButton (å®¿èˆäº’å‹•) - Button + DormInteractionHandler.cs
â””â”€â”€ DrinkingInviteButton (é‚€è«‹å–é…’) - Button + DrinkingInteractionHandler.cs

åŠŸèƒ½èªªæ˜:
- ç®¡ç†æ‰€æœ‰éœæ…‹å ´æ™¯ç‰©ä»¶äº’å‹•
- æ ¹æ“šæ™‚é–“å’Œå ´æ™¯ç‹€æ…‹å•Ÿç”¨/ç¦ç”¨æŒ‰éˆ•
- è™•ç†å·¥ä½œã€è²“å’ªã€å¤–å‡ºã€å–é…’ç­‰äº’å‹•
```

### ğŸ“Š **ä¿ç•™èˆ‡æ•´åˆçš„ç¾æœ‰ç³»çµ±**

#### â° **æ™‚é–“ç³»çµ± (ä¿ç•™)**
```csharp
// ä¿ç•™ï¼šTimeManager
ç‰©ä»¶ä½ç½®: GamePlayScene Root (ä¿æŒåŸä½)
è…³æœ¬é…ç½®: TimeManagerTest.cs (ä¿ç•™ä¸è®Š)

æ•´åˆèªªæ˜:
- ä¿æŒç¾æœ‰æ™‚é–“ç®¡ç†é‚è¼¯
- æ–°å¢äº‹ä»¶é€šçŸ¥çµ¦InteractionManager
- ç¢ºä¿èˆ‡æ–°ç³»çµ±çš„ç‹€æ…‹åŒæ­¥
```

#### ğŸ“Š **æ•¸å€¼ç³»çµ± (ä¿ç•™)**
```csharp
// ä¿ç•™ï¼šNumericalRecords
ç‰©ä»¶ä½ç½®: GamePlayScene Root (ä¿æŒåŸä½)
è…³æœ¬é…ç½®:
â”œâ”€â”€ NumericalRecords.cs (ä¿ç•™ä¸è®Š)
â””â”€â”€ NumericalRecords_PlayerSetting.cs (ä¿ç•™ä¸è®Š)

æ•´åˆèªªæ˜:
- ä¿æŒç¾æœ‰æ•¸å€¼ç®¡ç†é‚è¼¯
- æ–°å¢APIçµ¦InteractionManagerèª¿ç”¨
- ç¢ºä¿æ•¸å€¼è®ŠåŒ–äº‹ä»¶é€šçŸ¥æ–°ç³»çµ±
```

#### ğŸ­ **æ¼”å“¡ç³»çµ± (ä¿ç•™)**
```csharp
// ä¿ç•™ï¼šActorManager  
ç‰©ä»¶ä½ç½®: GamePlayScene Root (ä¿æŒåŸä½)
è…³æœ¬é…ç½®: ActorManagerTest.cs (ä¿ç•™ä¸è®Š)

æ•´åˆèªªæ˜:
- ä¿æŒç¾æœ‰æ¼”å“¡æ§åˆ¶é‚è¼¯
- æ–°å¢ç”±é¦™ä½ç½®è³‡è¨Šçµ¦DynamicCharacterInteraction
- ç¢ºä¿è¡¨æƒ…å’Œå‹•ç•«èˆ‡æ–°äº’å‹•ç³»çµ±åŒæ­¥
```

#### ğŸ’¬ **å°è©±ç³»çµ± (ç§»å‹•+å¢å¼·)**
```csharp
// ç§»å‹•ï¼šTextBoxManager
ç‰©ä»¶ä½ç½®: DialogCanvas (å¾åŸä½ç§»å‹•)
è…³æœ¬é…ç½®:
â”œâ”€â”€ TextBoxManager.cs (ä¿ç•™ï¼Œè¼•å¾®ä¿®æ”¹) 
â”œâ”€â”€ DialogChoiceManager.cs (æ–°å¢) ğŸ†•
â””â”€â”€ DialogIntegrationBridge.cs (æ–°å¢) ğŸ†•

åŠŸèƒ½èªªæ˜:
- ç§»å‹•åˆ°DialogCanvaså±¤ç´š
- æ–°å¢å°è©±é¸æ“‡åŠŸèƒ½
- æ•´åˆæ–°äº’å‹•ç³»çµ±çš„å°è©±è§¸ç™¼
```

---

## ğŸ”§ ç‰©ä»¶é…ç½®æ“ä½œæ­¥é©Ÿ

### ğŸ“‹ **éšæ®µä¸€ï¼šCanvasåˆ†å±¤é‡æ§‹**

#### ğŸ¯ **æ­¥é©Ÿ1ï¼šå‰µå»ºæ–°Canvaså±¤ç´š**
```
æ“ä½œæ­¥é©Ÿ:
1. å‰µå»ºBackgroundCanvas (Order: 0)
2. å‰µå»ºStaticInteractionCanvas (Order: 40)  
3. å‰µå»ºDynamicCharacterCanvas (Order: 50)
4. å‰µå»ºGameUICanvas (Order: 60)
5. å‰µå»ºDialogCanvas (Order: 70)
6. å‰µå»ºMenuCanvas (Order: 80)
7. å‰µå»ºPopupCanvas (Order: 90)

Canvasè¨­å®š:
- Render Mode: Screen Space - Overlay
- Pixel Perfect: True
- Sort Order: æŒ‰ä¸Šè¿°é †åºè¨­å®š
- Canvas Scaler: Scale With Screen Size
```

#### ğŸ¯ **æ­¥é©Ÿ2ï¼šç§»å‹•ç¾æœ‰ç‰©ä»¶**
```
ç§»å‹•è¨ˆåŠƒ:
1. BackGroundObject â†’ BackgroundCanvas
2. InformationUI â†’ GameUICanvas
3. TalkObject â†’ DialogCanvas
4. TextBoxManager â†’ DialogCanvas
5. ConfigureSystem â†’ MenuCanvas
6. MapChose â†’ MenuCanvas
7. DirtyTricks â†’ PopupCanvas
8. å…¶ä»–UIå…ƒç´  â†’ å°æ‡‰Canvaså±¤ç´š
```

### ğŸ“‹ **éšæ®µäºŒï¼šæ–°å¢äº’å‹•ç‰©ä»¶**

#### ğŸ¯ **éœæ…‹äº’å‹•æŒ‰éˆ•å‰µå»º**
```
StaticInteractionCanvasä¸‹å‰µå»º:

1. TavernInteractionButton
   - ç‰©ä»¶é¡å‹: Button (UI)
   - è…³æœ¬: TavernInteractionHandler.cs
   - ä½ç½®: é…’å§å ´æ™¯å°æ‡‰ä½ç½®
   - åŠŸèƒ½: å¹«å¿™ç”±é¦™å·¥ä½œ

2. CatInteractionButton  
   - ç‰©ä»¶é¡å‹: Button (UI)
   - è…³æœ¬: CatInteractionHandler.cs
   - ä½ç½®: è²“å’ªå°æ‡‰ä½ç½®
   - åŠŸèƒ½: å’Œè²“äº’å‹•

3. ExitButton
   - ç‰©ä»¶é¡å‹: Button (UI) 
   - è…³æœ¬: ExitInteractionHandler.cs
   - ä½ç½®: é–€å£ä½ç½®
   - åŠŸèƒ½: å¤–å‡ºç³»çµ±

4. DrinkingInviteButton
   - ç‰©ä»¶é¡å‹: Button (UI)
   - è…³æœ¬: DrinkingInteractionHandler.cs
   - ä½ç½®: å®¿èˆé…’é¡ä½ç½®  
   - åŠŸèƒ½: é‚€è«‹å–é…’
```

#### ğŸ¯ **å‹•æ…‹è§’è‰²äº’å‹•å‰µå»º**
```
DynamicCharacterCanvasä¸‹å‰µå»º:

1. YukaInteractionButton
   - ç‰©ä»¶é¡å‹: Button (UI)
   - è…³æœ¬: CharacterFollowButton.cs
   - è¨­å®š: é€æ˜èƒŒæ™¯ï¼Œè·Ÿéš¨ç”±é¦™ç§»å‹•
   - å°ºå¯¸: 100x150 pixels

2. YukaHoverEffect
   - ç‰©ä»¶é¡å‹: Image (UI)
   - è…³æœ¬: HoverEffectController.cs
   - åŠŸèƒ½: æ»‘é¼ æ‡¸åœè¦–è¦ºæ•ˆæœ

3. InteractionIndicator
   - ç‰©ä»¶é¡å‹: Image (UI) 
   - è…³æœ¬: IndicatorAnimationController.cs
   - åŠŸèƒ½: å¯äº’å‹•æŒ‡ç¤ºå™¨å‹•ç•«
```

### ğŸ“‹ **éšæ®µä¸‰ï¼šè…³æœ¬é…ç½®èˆ‡ç¶å®š**

#### ğŸ¯ **ä¸»è¦ç®¡ç†å™¨é…ç½®**
```
GamePlayScene Rootä¸‹å‰µå»º:

1. NewGameManager (ç©ºç‰©ä»¶)
   - æ·»åŠ è…³æœ¬: NewGameManager.cs
   - å¼•ç”¨è¨­å®š: TimeManager, NumericalRecords, ActorManager
   - å¼•ç”¨è¨­å®š: InteractionManager, NewUIManager

2. InteractionManager (ç©ºç‰©ä»¶)  
   - æ·»åŠ è…³æœ¬: InteractionManager.cs
   - å¼•ç”¨è¨­å®š: DynamicCharacterInteraction, StaticObjectInteraction
   - Canvaså¼•ç”¨: DynamicCharacterCanvas, StaticInteractionCanvas
```

#### ğŸ¯ **UIç®¡ç†å™¨é…ç½®**
```
GameUICanvasä¸‹å‰µå»º:

1. NewUIManager (ç©ºç‰©ä»¶)
   - æ·»åŠ è…³æœ¬: NewUIManager.cs
   - Canvaså¼•ç”¨: æ‰€æœ‰7å±¤Canvas
   - çµ„ä»¶å¼•ç”¨: å„UIé¢æ¿å’Œæ§åˆ¶å™¨
```

### ğŸ“‹ **éšæ®µå››ï¼šå¼•ç”¨ç¶å®šæª¢æŸ¥æ¸…å–®**

#### âœ… **å¿…è¦å¼•ç”¨ç¶å®š**
```
NewGameManager.cs éœ€è¦ç¶å®š:
â”œâ”€â”€ TimeManagerTest (ç¾æœ‰)
â”œâ”€â”€ NumericalRecords (ç¾æœ‰)  
â”œâ”€â”€ ActorManagerTest (ç¾æœ‰)
â”œâ”€â”€ InteractionManager (æ–°å¢)
â”œâ”€â”€ NewUIManager (æ–°å¢)
â””â”€â”€ SceneStateManager (æ–°å¢)

InteractionManager.cs éœ€è¦ç¶å®š:
â”œâ”€â”€ DynamicCharacterInteraction (æ–°å¢)
â”œâ”€â”€ StaticObjectInteraction (æ–°å¢)
â”œâ”€â”€ DynamicCharacterCanvas (æ–°å¢)
â”œâ”€â”€ StaticInteractionCanvas (æ–°å¢)
â””â”€â”€ InteractionConditionChecker (æ–°å¢)

DynamicCharacterInteraction.cs éœ€è¦ç¶å®š:
â”œâ”€â”€ YukaSpineTransform (ActorManageræä¾›)
â”œâ”€â”€ YukaInteractionButton (æ–°å¢)
â”œâ”€â”€ YukaHoverEffect (æ–°å¢)
â””â”€â”€ InteractionIndicator (æ–°å¢)

StaticObjectInteraction.cs éœ€è¦ç¶å®š:
â”œâ”€â”€ TavernInteractionButton (æ–°å¢)
â”œâ”€â”€ CatInteractionButton (æ–°å¢)
â”œâ”€â”€ ExitButton (æ–°å¢)
â””â”€â”€ DrinkingInviteButton (æ–°å¢)
```

---

## âš ï¸ æ³¨æ„äº‹é …èˆ‡æª¢æŸ¥é»

### ğŸ”’ **å®‰å…¨æªæ–½**
```
é‡è£½å‰æº–å‚™:
1. âœ… ç¢ºèªGamePlayScene_old.unityå‚™ä»½å­˜åœ¨
2. âœ… æäº¤ç•¶å‰ç‰ˆæœ¬åˆ°ç‰ˆæœ¬æ§åˆ¶
3. âœ… æº–å‚™å›æ»¾è¨ˆåŠƒ
4. âœ… æ¸¬è©¦ç’°å¢ƒæº–å‚™å°±ç·’
```

### ğŸ¯ **é—œéµæª¢æŸ¥é»**
```
æ¯å€‹éšæ®µå®Œæˆå¾Œæª¢æŸ¥:
1. âœ… Canvasåˆ†å±¤Orderè¨­å®šæ­£ç¢º
2. âœ… ç‰©ä»¶å±¤ç´šçµæ§‹æ¸…æ™°
3. âœ… è…³æœ¬å¼•ç”¨ç¶å®šå®Œæ•´
4. âœ… åŸºç¤åŠŸèƒ½æ¸¬è©¦é€šé
5. âœ… ç„¡ç·¨è­¯éŒ¯èª¤
6. âœ… å ´æ™¯å¯æ­£å¸¸è¼‰å…¥
```

### ğŸ® **æ¸¬è©¦é©—è­‰**
```
åŠŸèƒ½æ¸¬è©¦æ¸…å–®:
1. âœ… å ´æ™¯æ­£å¸¸è¼‰å…¥å’Œé¡¯ç¤º
2. âœ… æ™‚é–“ç³»çµ±æ­£å¸¸é‹ä½œ
3. âœ… æ•¸å€¼ç³»çµ±æ­£å¸¸è¨˜éŒ„  
4. âœ… æ¼”å“¡ç³»çµ±æ­£å¸¸é¡¯ç¤º
5. âœ… UIå±¤ç´šé¡¯ç¤ºæ­£ç¢º
6. âœ… åŸºç¤äº’å‹•å¯ä»¥è§¸ç™¼
7. âœ… å°è©±ç³»çµ±æ­£å¸¸å·¥ä½œ
```

---

## ğŸ“ ç›¸é—œæ–‡æª”å¼•ç”¨

### ğŸ“‘ **æ¶æ§‹è¨­è¨ˆæ–‡æª”**
- `docs/Architecture/NurturingMode/é¤ŠæˆéŠæˆ²æµç¨‹.md`
- `docs/Architecture/NurturingMode/é¤ŠæˆUIç³»çµ±.md`
- `docs/Architecture/NurturingMode/äº’å‹•ç³»çµ±å®Œæ•´è¨­è¨ˆ_é‡è£½ç‰ˆ.md`

### ğŸ“‹ **å·¥ç¨‹è¨˜éŒ„**
- `docs/ProjectLogs/2025-08-17_GamePlayå ´æ™¯é‡è£½å·¥ç¨‹å•Ÿå‹•æ—¥èªŒ.md`
- `docs/project_memory.md`

### ğŸ¯ **å¯¦æ©Ÿåƒè€ƒ**
- `docs/å¯¦æ©Ÿç•«é¢/é¤Šæˆæ¨¡å¼*.png`

---

**æ‰‹å†Šç‰ˆæœ¬**: 1.0  
**å‰µå»ºæ—¥æœŸ**: 2025-08-17  
**é©ç”¨ç¯„åœ**: GamePlayå ´æ™¯å…¨é¢é‡è£½å·¥ç¨‹  
**ç¶­è­·è€…**: é–‹ç™¼åœ˜éšŠ + Claude Code

> ğŸ”§ **æ“ä½œæ‰‹å†Šæ ¸å¿ƒ**: æœ¬æ‰‹å†Šæä¾›äº†å¾ç¾æœ‰ç‰©ä»¶çµæ§‹åˆ°æ–°ç³»çµ±æ¶æ§‹çš„å®Œæ•´è½‰æ›æŒ‡å—ï¼Œç¢ºä¿é‡è£½å·¥ç¨‹çš„é †åˆ©é€²è¡Œå’Œå“è³ªæ§åˆ¶ï¼