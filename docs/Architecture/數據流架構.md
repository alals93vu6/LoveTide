# ğŸ“Š æ•¸æ“šæµæ¶æ§‹

> LoveTide çš„JSONé©…å‹•æ•¸æ“šç®¡ç†ã€å‚³éå’ŒæŒä¹…åŒ–æ¶æ§‹è¨­è¨ˆ

---

## ğŸ¯ æ¦‚è¿°

æ•¸æ“šæµæ¶æ§‹è² è²¬ç®¡ç†éŠæˆ²ä¸­æ‰€æœ‰æ•¸æ“šçš„å‰µå»ºã€å‚³éã€è™•ç†å’Œå„²å­˜ã€‚LoveTide æ¡ç”¨ **JSON é©…å‹•** çš„æ•¸æ“šç®¡ç†æ–¹å¼ï¼Œé€šéé€²åº¦åµæ¸¬å’Œè³‡æºè·¯å¾‘ç®¡ç†å¯¦ç¾éˆæ´»çš„å…§å®¹ç®¡ç†ç³»çµ±ã€‚

---

## âš ï¸ é‡è¦æ¶æ§‹è½‰æ›èªªæ˜

### ğŸ“‹ ç•¶å‰æ¶æ§‹ç‹€æ…‹
**ç›®å‰å¯¦ç¾**: åŸºæ–¼ ScriptableObject å’Œ PlayerPrefs çš„èˆŠæ¶æ§‹ï¼ˆ2å¹´å‰è¨­è¨ˆï¼‰
**æœªä¾†ç›®æ¨™**: å…¨é¢é·ç§»åˆ° JSON è³‡æ–™é©…å‹•æ¶æ§‹

### ğŸ”„ è½‰æ›åŸå› 
- **ScriptableObject ç¶­è­·å›°é›£**: é›£ä»¥å‹•æ…‹ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶
- **ç¼ºä¹éˆæ´»æ€§**: ä¸åˆ©æ–¼å…§å®¹æ“´å±•å’Œæœ¬åœ°åŒ–
- **é–‹ç™¼æ•ˆç‡ä½**: éœ€è¦ Unity ç·¨è¼¯å™¨æ‰èƒ½ä¿®æ”¹å…§å®¹

### ğŸ¯ é·ç§»è¨ˆåŠƒ
- **éšæ®µä¸€**: åŠ‡æƒ…å°è©±ç³»çµ± JSON åŒ–
- **éšæ®µäºŒ**: æ•¸å€¼è¨˜éŒ„ç³»çµ± JSON åŒ–  
- **éšæ®µä¸‰**: äº‹ä»¶è§¸ç™¼ç³»çµ± JSON åŒ–
- **éšæ®µå››**: å®Œæ•´æ¶æ§‹çµ±ä¸€

---

## ğŸ§± JSON é©…å‹•æ•¸æ“šæµæ¶æ§‹ (æœªä¾†ç³»çµ±è—åœ–)

> ğŸš€ **è¨­è¨ˆè—åœ–**: é€™æ˜¯ç‚ºæœªä¾†JSONé©…å‹•ç³»çµ±åˆ¶å®šçš„æ¶æ§‹è¨­è¨ˆï¼Œåƒè€ƒç¾æœ‰é›™é‡å°è©±ç³»çµ±æ¡†æ¶ï¼Œæ”¹å–„é«˜è€¦åˆå•é¡Œï¼Œå¯¦ç¾**æ¨¹ç‹€è¿´åœˆæ•¸æ“šçµæ§‹**çš„æ™ºèƒ½é€²åº¦ç®¡ç†èˆ‡å‹•æ…‹å…§å®¹è¼‰å…¥

> âš ï¸ **é‡è¦èªªæ˜**: ç¾æœ‰ç³»çµ±ä½¿ç”¨ScriptableObjectï¼Œæœ¬æ–‡æª”æè¿°çš„æ˜¯æœªä¾†é·ç§»åˆ°JSONé©…å‹•çš„ç›®æ¨™æ¶æ§‹

### ğŸ”„ **æ¨¹ç‹€è¿´åœˆæ¶æ§‹è¨­è¨ˆç†å¿µ**

#### ğŸ“Š **æ¨¹ç‹€çµæ§‹** (åˆ†å±¤æ•¸æ“šç®¡ç†)
```
ğŸŒ³ éŠæˆ²æ•¸æ“šæ¨¹
â”œâ”€â”€ ğŸ¯ æ ¹ç¯€é»: éŠæˆ²é€²åº¦ç‹€æ…‹
â”‚   â”œâ”€â”€ ğŸ“Š ç« ç¯€é€²åº¦ (Chapter)
â”‚   â”œâ”€â”€ ğŸ­ åŠ‡æƒ…é€²åº¦ (Story Progress)  
â”‚   â”œâ”€â”€ ğŸ’– è§’è‰²å¥½æ„Ÿåº¦ (Affection Levels)
â”‚   â””â”€â”€ â° æ™‚é–“ç‹€æ…‹ (Game Time)
â”œâ”€â”€ ğŸŒ¿ åˆ†æ”¯ç¯€é»: JSONæ–‡ä»¶é¸æ“‡
â”‚   â”œâ”€â”€ å°è©±å…§å®¹JSON
â”‚   â”œâ”€â”€ é¤Šæˆæ•¸æ“šJSON
â”‚   â”œâ”€â”€ åŠ‡æƒ…è§¸ç™¼JSON
â”‚   â””â”€â”€ äº‹ä»¶é…ç½®JSON
â””â”€â”€ ğŸƒ è‘‰ç¯€é»: å…·é«”éŠæˆ²å…§å®¹
    â”œâ”€â”€ å°è©±æ–‡æœ¬
    â”œâ”€â”€ è§’è‰²è¡¨æƒ…
    â”œâ”€â”€ æ•¸å€¼è®ŠåŒ–
    â””â”€â”€ è§¸ç™¼æ¢ä»¶
```

#### ğŸ”„ **è¿´åœˆçµæ§‹** (æŒçºŒæ•¸æ“šå¾ªç’°)
```
é¤Šæˆæ¨¡å¼å¾ªç’° â†â”€â”€â”€â”€â”€â”
    â†“             â”‚
ç©å®¶è§¸ç™¼äº‹ä»¶       â”‚
    â†“             â”‚
æ›´æ–°æ•¸å€¼è¨˜éŒ„       â”‚
    â†“             â”‚
æª¢æŸ¥è§¸ç™¼æ¢ä»¶ â”€â”€â”€â”€â”€â”€â”¤
    â†“ (æ»¿è¶³)      â”‚ (ä¸æ»¿è¶³)
åŠ‡æƒ…æ¨¡å¼          â”‚
    â†“             â”‚
æ›´æ–°éŠæˆ²é€²åº¦       â”‚
    â†“             â”‚
è¿”å›é¤Šæˆæ¨¡å¼ â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Š **å®Œæ•´æ•¸æ“šæµç¨‹åœ–** (æœªä¾†JSONé©…å‹•å¯¦ç¾)
```
ğŸ® éŠæˆ²å•Ÿå‹•
    â†“
ğŸ“Š ProgressDetector (é€²åº¦åµæ¸¬å™¨) ğŸŒ³ æ¨¹æ ¹åˆ†æ
    â”œâ”€â”€ æª¢æŸ¥ SaveData.json å­˜æª”
    â”œâ”€â”€ åˆ†æç•¶å‰ç« ç¯€ â†’ æ¨¹ç‹€è·¯å¾‘é¸æ“‡
    â”œâ”€â”€ ç¢ºå®šåŠ‡æƒ…é€²åº¦ â†’ åˆ†æ”¯æ¬Šé‡è¨ˆç®—
    â””â”€â”€ æ±ºå®š JSON æª”æ¡ˆè·¯å¾‘ â†’ è‘‰ç¯€é»å®šä½
    â†“
ğŸ“ JsonDataManager (æ•¸æ“šè¼‰å…¥å™¨) ğŸŒ¿ åˆ†æ”¯æ•¸æ“šè¼‰å…¥  
    â”œâ”€â”€ è¼‰å…¥æŒ‡å®š JSON æª”æ¡ˆ â†’ å‹•æ…‹æ¨¹æ§‹å»º
    â”œâ”€â”€ ä½¿ç”¨ JsonHelper è§£æé™£åˆ—
    â”œâ”€â”€ è½‰æ›ç‚º List<DialogLine> â†’ è‘‰ç¯€é»å…§å®¹
    â””â”€â”€ æä¾› LINQ æŸ¥è©¢æ¥å£ â†’ æ¨¹éæ­·æŸ¥è©¢
    â†“
ğŸ® GameManager (åˆ†ç™¼å”èª¿å™¨) ğŸ”„ è¿´åœˆæ§åˆ¶ä¸­å¿ƒ
    â”œâ”€â”€ å¾ JsonDataManager ç²å–æ•¸æ“š
    â”œâ”€â”€ åˆ†æç•¶å‰éœ€è¦çš„å°è©±
    â”œâ”€â”€ åˆ†é…ä»»å‹™çµ¦å„ Controller
    â”œâ”€â”€ å”èª¿ä¸¦è¡ŒåŸ·è¡Œ
    â””â”€â”€ ğŸ”„ å•Ÿå‹•éŠæˆ²ä¸»å¾ªç’°
    â†“
ğŸ­ é¤Šæˆæ¨¡å¼å¾ªç’° (ç©å®¶è§¸ç™¼é©…å‹•)
    â”œâ”€â”€ ç­‰å¾…ç©å®¶äº’å‹• â†’ PlayerActorTest.OnClickActor()
    â”œâ”€â”€ ğŸ”„ **é¤Šæˆå…§å°è©±å¾ªç’°** (å°å‹åŠ‡æƒ…æ’­æ”¾)
    â”‚   â”œâ”€â”€ è§¸ç™¼è§’è‰²äº’å‹• â†’ Interactive_Speak(), Interactive_FlirtTalk()
    â”‚   â”œâ”€â”€ è¼‰å…¥å°è©±æ•¸æ“š â†’ TextBoxTestPlaying
    â”‚   â”œâ”€â”€ ç°¡å–®è¡¨æƒ…æ§åˆ¶ â†’ ActorManagerTest
    â”‚   â””â”€â”€ å¿«é€Ÿæ•¸å€¼æ›´æ–° â†’ NumericalRecords
    â”œâ”€â”€ æ›´æ–°æ•¸å€¼è¨˜éŒ„ â†’ NumericalRecords ğŸŒ³ æ›´æ–°æ¨¹ç¯€é»
    â”œâ”€â”€ æª¢æŸ¥åŠ‡æƒ…æ¢ä»¶ â†’ æ ¹æ“š FDS_LV, SLT, LST ç­‰æ•¸å€¼
    â””â”€â”€ ğŸ¯ æ¢ä»¶åˆ¤æ–·: æ˜¯å¦è§¸ç™¼å¤§å‹åŠ‡æƒ…ï¼Ÿ
        â”œâ”€â”€ âŒ å¦ â†’ ğŸ”„ ç¹¼çºŒé¤Šæˆå¾ªç’° (å«å°å°è©±)
        â””â”€â”€ âœ… æ˜¯ â†’ åˆ‡æ›åˆ°åŠ‡æƒ…å ´æ™¯
    â†“
ğŸ­ åŠ‡æƒ…æ¨¡å¼åŸ·è¡Œ (å¤§å‹åŠ‡æƒ…æ’­æ”¾) - æœªä¾†è·è²¬åˆ†é›¢è¨­è¨ˆ
    â”œâ”€â”€ å ´æ™¯åˆ‡æ› â†’ SceneManager (å°ˆè²¬å ´æ™¯ç®¡ç†)
    â”œâ”€â”€ è¼‰å…¥åŠ‡æƒ…æ•¸æ“š â†’ JsonStoryManager
    â”‚   â””â”€â”€ å¾ story_chapters.json å‹•æ…‹è¼‰å…¥
    â”œâ”€â”€ ğŸ¯ **DialogCoordinator** (å°è©±å”èª¿å™¨ - æ–°å¢)
    â”‚   â”œâ”€â”€ ğŸ“ TextRenderer â†’ ç´”æ–‡å­—æ¸²æŸ“ (è·è²¬å–®ä¸€)
    â”‚   â”œâ”€â”€ ğŸ­ ActorController â†’ å°ˆè²¬æ¼”å“¡è¡¨æƒ…å‹•ç•«
    â”‚   â”œâ”€â”€ ğŸ”Š AudioManager â†’ å°ˆè²¬éŸ³æ•ˆæ’­æ”¾  
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ CGManager â†’ å°ˆè²¬CGå ´æ™¯ç®¡ç†
    â”‚   â””â”€â”€ âš¡ EventDispatcher â†’ çµ±ä¸€äº‹ä»¶åˆ†ç™¼
    â”œâ”€â”€ æ›´æ–°éŠæˆ²é€²åº¦ â†’ ğŸŒ³ ä¿®æ”¹æ¨¹æ ¹ç‹€æ…‹
    â””â”€â”€ åŠ‡æƒ…çµæŸ â†’ è¿”å›é¤Šæˆå ´æ™¯
    â†“
ğŸ”„ å¾ªç’°å›æ­¸é» (ä½è€¦åˆå›æ­¸)
    â”œâ”€â”€ ğŸŒ³ é‡æ–°åˆ†æéŠæˆ²æ¨¹ â†’ ProgressDetector (JSON)
    â”œâ”€â”€ ğŸŒ¿ é¸æ“‡æ–°çš„æ•¸æ“šåˆ†æ”¯ â†’ JsonDataManager  
    â””â”€â”€ ğŸ”„ è¿”å›é¤Šæˆæ¨¡å¼å¾ªç’°
```

---

## ğŸ­ **é›™é‡å°è©±ç³»çµ±æ¶æ§‹** (æœªä¾†JSONé©…å‹•è¨­è¨ˆ)

> ğŸš€ **æœªä¾†ç³»çµ±è¨­è¨ˆ**: åŸºæ–¼ç¾æœ‰é›™é‡å°è©±ç³»çµ±æ¡†æ¶ï¼Œè¨­è¨ˆ**JSONé©…å‹•çš„ä½è€¦åˆç‰ˆæœ¬**ï¼Œæ”¹å–„ç¾æœ‰ScriptableObjectçš„é«˜è€¦åˆå•é¡Œ

### ğŸ“Š **é›™é‡å°è©±ç³»çµ±å°æ¯”** (æœªä¾†JSONé©…å‹•è¨­è¨ˆ)

| ç‰¹å¾µ | é¤Šæˆæ¨¡å¼å°è©± (æœªä¾†ç‰ˆ) | åŠ‡æƒ…æ¨¡å¼å°è©± (æœªä¾†ç‰ˆ) |
|------|-------------|--------------|
| **æ§åˆ¶å™¨** | `TextBoxManager` | `StoryManager` |
| **æ•¸æ“šç®¡ç†** | `JsonDialogManager` | `JsonStoryManager` |
| **è§¸ç™¼æ–¹å¼** | ç©å®¶é»æ“Šè§’è‰²äº’å‹• | æ¢ä»¶æ»¿è¶³è‡ªå‹•è§¸ç™¼ |
| **æ•¸æ“šä¾†æº** | `casual_dialogs.json` | `story_chapters.json` |
| **æ•¸æ“šé¡å‹** | **JSONé©…å‹•ï¼Œå‹•æ…‹è¼‰å…¥** | **JSONé©…å‹•ï¼Œåˆ†ç« ç¯€ç®¡ç†** |
| **å…§å®¹è¤‡é›œåº¦** | ç°¡å–®å°è©±ã€å¿«é€Ÿäº’å‹• | è±å¯ŒåŠ‡æƒ…ã€CGå±•ç¤º |
| **æ¼”å“¡æ§åˆ¶** | çµ±ä¸€ `ActorController` | çµ±ä¸€ `ActorController` |
| **è€¦åˆåº¦** | **ä½è€¦åˆï¼Œæ¨¡çµ„åŒ–** | **ä½è€¦åˆï¼Œå¯æ“´å±•** |
| **ä½¿ç”¨æƒ…å¢ƒ** | æ—¥å¸¸äº’å‹•ã€æ•¸å€¼é¤Šæˆ | é‡è¦åŠ‡æƒ…ã€æ•…äº‹æ¨é€² |

### ğŸ”„ **è·è²¬åˆ†é›¢çš„å°è©±æ¶æ§‹æ”¹å–„**

#### âš ï¸ **èˆŠç‰ˆå•é¡Œåˆ†æ**
```csharp
// âŒ èˆŠç‰ˆå•é¡Œï¼šTextBoxè·è²¬éé‡ (é«˜è€¦åˆ)
public class TextBoxTestPlaying : MonoBehaviour  
{
    // å•é¡Œï¼šä¸€å€‹é¡åˆ¥è² è²¬å¤ªå¤šè·è²¬
    public void DisplayDialog() 
    { 
        // æ–‡å­—é¡¯ç¤º
        // æ¼”å“¡æ§åˆ¶ â† è·è²¬ä¸åˆ†æ˜
        // éŸ³æ•ˆæ’­æ”¾ â† è·è²¬ä¸åˆ†æ˜  
        // UIæ›´æ–° â† è·è²¬ä¸åˆ†æ˜
    }
}
```

#### âœ… **æœªä¾†è¨­è¨ˆï¼šè·è²¬åˆ†é›¢æ¶æ§‹**
```csharp
// âœ… æœªä¾†è¨­è¨ˆï¼šè·è²¬åˆ†é›¢ (ä½è€¦åˆ)
public class DialogCoordinator : MonoBehaviour
{
    [Header("å°ˆè²¬ç®¡ç†å™¨")]
    public TextRenderer textRenderer;       // ç´”æ–‡å­—æ¸²æŸ“
    public ActorController actorController; // å°ˆè²¬æ¼”å“¡æ§åˆ¶
    public AudioManager audioManager;       // å°ˆè²¬éŸ³æ•ˆç®¡ç†
    public UIManager uiManager;            // å°ˆè²¬UIæ§åˆ¶
    
    // å”èª¿å™¨åªè² è²¬å”èª¿ï¼Œä¸ç›´æ¥è™•ç†å…·é«”é‚è¼¯
    public void ProcessDialogEvent(DialogData data)
    {
        // é€šéäº‹ä»¶ç³»çµ±å”èª¿å„ç®¡ç†å™¨
        EventDispatcher.Trigger("ShowText", data.text);
        EventDispatcher.Trigger("PlayExpression", data.expression);
        EventDispatcher.Trigger("PlayAudio", data.audioClip);
    }
}

// å„ç®¡ç†å™¨è·è²¬å–®ä¸€
public class TextRenderer : MonoBehaviour  
{ 
    public void DisplayText(string text) { /* åªè² è²¬æ–‡å­—é¡¯ç¤º */ }
}

public class ActorController : MonoBehaviour  
{ 
    public void PlayExpression(string expression) { /* åªè² è²¬æ¼”å“¡æ§åˆ¶ */ }
}

public class AudioManager : MonoBehaviour  
{ 
    public void PlaySound(AudioClip clip) { /* åªè² è²¬éŸ³æ•ˆæ’­æ”¾ */ }
}
```

### ğŸ¬ **åŠ‡æƒ…æ¨¡å¼çš„å¤§å‹å°è©±ç³»çµ±**

```csharp  
// GamePlayingManagerDrama.cs - åŠ‡æƒ…å ´æ™¯çš„å°è©±ç®¡ç†
private void DialogDetected()
{
    // æ ¹æ“šåŠ‡æƒ…é€²åº¦é¸æ“‡å°è©±å…§å®¹
    switch (PlayerPrefs.GetInt("DramaNumber"))
    {
        case 1: playerCtrlManager.diaLog = diaData[1]; break; // ä¸»ç·šåŠ‡æƒ…
        case 2: playerCtrlManager.diaLog = diaData[2]; break; // å¤–é‡åŠ‡æƒ…  
        case 3: playerCtrlManager.diaLog = diaData[3]; break; // æ·«è¶´åŠ‡æƒ…
        case 4: playerCtrlManager.diaLog = diaData[4]; break; // æµ·ç˜åŠ‡æƒ…
        // ... æ›´å¤šåŠ‡æƒ…åˆ†æ”¯
    }
}
```

### ğŸŒ³ **æ¨¹ç‹€æ•¸æ“šæµä¸­çš„é›™é‡å°è©±ç¯€é»** (æœªä¾†JSONæ¶æ§‹)

```
ğŸŒ³ éŠæˆ²æ•¸æ“šæ¨¹ (æœªä¾†è¨­è¨ˆ - JSONé©…å‹•)
â”œâ”€â”€ ğŸ¯ æ ¹ç¯€é»: éŠæˆ²é€²åº¦ç‹€æ…‹ (JSON é›†ä¸­ç®¡ç†)
â”‚   â”œâ”€â”€ ğŸ“Š é¤Šæˆæ•¸å€¼ (friendship, slutty, lust)
â”‚   â”œâ”€â”€ ğŸ­ åŠ‡æƒ…é€²åº¦ (currentChapter, storyFlags)  
â”‚   â”œâ”€â”€ ğŸ’– è§’è‰²å¥½æ„Ÿåº¦ (characterAffection)
â”‚   â””â”€â”€ â° æ™‚é–“ç‹€æ…‹ (gameTime, currentDay)
â”œâ”€â”€ ğŸŒ¿ åˆ†æ”¯ç¯€é»: é›™é‡å°è©±ç³»çµ± (JSONå‹•æ…‹è¼‰å…¥)
â”‚   â”œâ”€â”€ ğŸ”„ é¤Šæˆå°è©±åˆ†æ”¯ (casual_dialogs.json)
â”‚   â”‚   â”œâ”€â”€ speak_interactions (æ™®é€šå°è©±)
â”‚   â”‚   â”œâ”€â”€ flirt_interactions (æƒ…è©±å°è©±)
â”‚   â”‚   â”œâ”€â”€ work_interactions (å·¥ä½œå°è©±)
â”‚   â”‚   â””â”€â”€ special_interactions (ç‰¹æ®Šäº’å‹•)
â”‚   â””â”€â”€ ğŸ¬ åŠ‡æƒ…å°è©±åˆ†æ”¯ (story_chapters.json)
â”‚       â”œâ”€â”€ main_story (ä¸»ç·šåŠ‡æƒ…)
â”‚       â”œâ”€â”€ side_stories (æ”¯ç·šåŠ‡æƒ…)  
â”‚       â”œâ”€â”€ special_events (ç‰¹æ®Šäº‹ä»¶)
â”‚       â””â”€â”€ cg_scenes (CGå ´æ™¯å°è©±)
â””â”€â”€ ğŸƒ è‘‰ç¯€é»: JSONå…§å®¹çµæ§‹ (ä½è€¦åˆè¨­è¨ˆ)
    â”œâ”€â”€ dialogData (å°è©±å…§å®¹)
    â”œâ”€â”€ actorExpressions (è¡¨æƒ…é…ç½®)
    â”œâ”€â”€ triggerConditions (è§¸ç™¼æ¢ä»¶)
    â””â”€â”€ stateChanges (ç‹€æ…‹è®Šæ›´)
```

---

## ğŸ¯ **è·è²¬åˆ†é›¢è¨­è¨ˆåŸå‰‡** (è§£æ±ºé«˜è€¦åˆå•é¡Œ)

### ğŸ“‹ **èˆŠç‰ˆæ¶æ§‹å•é¡Œè¨ºæ–·**

#### âŒ **è·è²¬ä¸åˆ†æ˜çš„å•é¡Œ**
```
èˆŠç‰ˆ TextBox æ‰¿æ“”éå¤šè·è²¬ï¼š
â”œâ”€â”€ æ–‡å­—é¡¯ç¤º âœ“ (åˆç†)
â”œâ”€â”€ æ¼”å“¡æ§åˆ¶ âŒ (è·è²¬ä¸ç¬¦)  
â”œâ”€â”€ éŸ³æ•ˆæ’­æ”¾ âŒ (è·è²¬ä¸ç¬¦)
â”œâ”€â”€ CGç®¡ç† âŒ (è·è²¬ä¸ç¬¦)
â”œâ”€â”€ UIæ›´æ–° âŒ (è·è²¬ä¸ç¬¦)
â””â”€â”€ äº‹ä»¶è§¸ç™¼ âŒ (è·è²¬ä¸ç¬¦)

çµæœï¼šé«˜è€¦åˆã€é›£ç¶­è­·ã€æ“´å±•å›°é›£
```

### âœ… **æœªä¾†è·è²¬åˆ†é›¢æ¶æ§‹**

#### ğŸ—ï¸ **å”èª¿å™¨æ¨¡å¼è¨­è¨ˆ**
```
DialogCoordinator (å°è©±å”èª¿å™¨)
â”œâ”€â”€ ğŸ“ TextRenderer (æ–‡å­—æ¸²æŸ“å™¨)
â”‚   â””â”€â”€ è·è²¬ï¼šç´”æ–‡å­—é¡¯ç¤ºã€æ‰“å­—æ©Ÿæ•ˆæœ
â”œâ”€â”€ ğŸ­ ActorController (æ¼”å“¡æ§åˆ¶å™¨) 
â”‚   â””â”€â”€ è·è²¬ï¼šè¡¨æƒ…æ§åˆ¶ã€å‹•ç•«æ’­æ”¾
â”œâ”€â”€ ğŸ”Š AudioManager (éŸ³æ•ˆç®¡ç†å™¨)
â”‚   â””â”€â”€ è·è²¬ï¼šéŸ³æ•ˆæ’­æ”¾ã€éŸ³é‡æ§åˆ¶
â”œâ”€â”€ ğŸ–¼ï¸ CGManager (CGç®¡ç†å™¨)
â”‚   â””â”€â”€ è·è²¬ï¼šCGé¡¯ç¤ºã€å ´æ™¯åˆ‡æ›  
â”œâ”€â”€ ğŸ¨ UIManager (UIç®¡ç†å™¨)
â”‚   â””â”€â”€ è·è²¬ï¼šUIå…ƒç´ æ§åˆ¶ã€å‹•ç•«æ•ˆæœ
â””â”€â”€ âš¡ EventDispatcher (äº‹ä»¶åˆ†ç™¼å™¨)
    â””â”€â”€ è·è²¬ï¼šäº‹ä»¶é€šè¨Šã€ç‹€æ…‹åŒæ­¥
```

#### ğŸ”„ **äº‹ä»¶é©…å‹•é€šè¨Š**
```csharp
// æœªä¾†æ¶æ§‹ï¼šäº‹ä»¶é©…å‹•çš„ä½è€¦åˆè¨­è¨ˆ
public class DialogCoordinator : MonoBehaviour
{
    public void ProcessDialogLine(DialogLineData dialogData)
    {
        // é€šéäº‹ä»¶ç³»çµ±åˆ†ç™¼ä»»å‹™ï¼Œå„ç®¡ç†å™¨ç¨ç«‹è™•ç†
        EventBus.Publish("DisplayText", new TextDisplayEvent 
        { 
            text = dialogData.text,
            speed = dialogData.speed 
        });
        
        EventBus.Publish("PlayExpression", new ExpressionEvent 
        { 
            actorId = dialogData.actorId,
            expression = dialogData.expression 
        });
        
        EventBus.Publish("PlayAudio", new AudioEvent 
        { 
            audioClip = dialogData.audioClip,
            volume = dialogData.volume 
        });
    }
}

// å„ç®¡ç†å™¨ç¨ç«‹è™•ç†è‡ªå·±çš„è·è²¬
public class TextRenderer : MonoBehaviour
{
    void Start()
    {
        EventBus.Subscribe<TextDisplayEvent>("DisplayText", OnDisplayText);
    }
    
    void OnDisplayText(TextDisplayEvent eventData)
    {
        // åªè² è²¬æ–‡å­—é¡¯ç¤ºé‚è¼¯
        StartCoroutine(TypewriterEffect(eventData.text, eventData.speed));
    }
}
```

### ğŸ¯ **æ¶æ§‹å„ªå‹¢å°æ¯”**

| é …ç›® | èˆŠç‰ˆæ¶æ§‹ (é«˜è€¦åˆ) | æœªä¾†æ¶æ§‹ (ä½è€¦åˆ) |
|------|-----------------|------------------|
| **è·è²¬åŠƒåˆ†** | æ¨¡ç³Šä¸æ¸… | è·è²¬å–®ä¸€æ˜ç¢º |
| **ä»£ç¢¼ç¶­è­·** | å›°é›£ | å®¹æ˜“ |
| **åŠŸèƒ½æ“´å±•** | å›°é›£ | éˆæ´» |
| **æ¸¬è©¦é›£åº¦** | é«˜ | ä½ |
| **Bugå®šä½** | å›°é›£ | å®¹æ˜“ |
| **åœ˜éšŠå”ä½œ** | è¡çªå¤š | ä¸¦è¡Œé–‹ç™¼ |

---

### ğŸ¯ é€²åº¦åµæ¸¬ç³»çµ±è¨­è¨ˆ
```csharp
public class ProgressDetector : MonoBehaviour
{
    [Header("é€²åº¦æ•¸æ“š")]
    public SaveDataManager saveManager;
    public string currentJsonFile;
    
    public string DetectRequiredJsonFile()
    {
        // 1. è®€å–å­˜æª”é€²åº¦
        SaveData saveData = saveManager.LoadSaveData();
        
        // 2. åˆ†æé€²åº¦ç‹€æ…‹
        int currentChapter = saveData.currentChapter;
        int currentScene = saveData.currentScene;
        string storyFlag = saveData.currentStoryFlag;
        
        // 3. æ±ºå®š JSON æª”æ¡ˆè·¯å¾‘
        string jsonFileName = DetermineJsonFileName(currentChapter, currentScene, storyFlag);
        
        // 4. å›å‚³æª”æ¡ˆåç¨±çµ¦ JsonDataManager
        return jsonFileName;
    }
    
    private string DetermineJsonFileName(int chapter, int scene, string flag)
    {
        // æ ¹æ“šé€²åº¦æ±ºå®šè¼‰å…¥çš„ JSON æª”æ¡ˆ
        return $"GameChapter{chapter}_Scene{scene}_{flag}";
    }
}
```

### ğŸ“Š GameManager æ•¸æ“šåˆ†ç™¼æ©Ÿåˆ¶
```csharp
public class GameManager : MonoBehaviour
{
    [Header("ç³»çµ±å¼•ç”¨")]
    public ProgressDetector progressDetector;
    public JsonDataManager jsonDataManager;
    
    [Header("Controller å¼•ç”¨")]
    public TextBoxController textBoxController;
    public ActorManager actorManager;
    public UIManager uiManager;
    public CGController cgController;
    public SpineController spineController;
    
    public void InitializeGameData()
    {
        // 1. åµæ¸¬ç•¶å‰éœ€è¦çš„ JSON æª”æ¡ˆ
        string requiredJsonFile = progressDetector.DetectRequiredJsonFile();
        
        // 2. é€šçŸ¥ JsonDataManager è¼‰å…¥æŒ‡å®šæª”æ¡ˆ
        jsonDataManager.LoadDialogData(requiredJsonFile);
        
        // 3. ç­‰å¾…æ•¸æ“šè¼‰å…¥å®Œæˆ
        StartCoroutine(WaitForDataLoaded());
    }
    
    public void ExecuteCurrentDialog(int eventIndex, int dialogIndex)
    {
        // å¾ JsonDataManager ç²å–æŒ‡å®šå°è©±
        DialogLine currentDialog = jsonDataManager.GetDialog(eventIndex, dialogIndex);
        
        if (currentDialog != null)
        {
            // åˆ†ç™¼ä»»å‹™çµ¦å„ Controller
            DistributeDialogTasks(currentDialog);
        }
    }
    
    private void DistributeDialogTasks(DialogLine dialog)
    {
        // ä¸¦è¡Œåˆ†é…ä»»å‹™
        textBoxController.DisplayDialog(dialog.Dialog, dialog.ActorName);
        
        if (dialog.ActorFace != "NoFace")
            actorManager.SetActorFace(dialog.ActorName, dialog.ActorFace);
            
        if (dialog.ActorAnimator != "NoActor")
            actorManager.PlayActorAnimation(dialog.ActorAnimator);
    }
}
```

### ğŸ“ è³‡æºè·¯å¾‘çµæ§‹
```
RESOURCES/
â”œâ”€â”€ æ–‡æœ¬/
â”‚   â”œâ”€â”€ ä¸»ç·š/
â”‚   â”‚   â”œâ”€â”€ ç¬¬ä¸€ç« /
â”‚   â”‚   â”œâ”€â”€ ç¬¬äºŒç« /
â”‚   â”‚   â””â”€â”€ ç¬¬ä¸‰ç« /
â”‚   â”œâ”€â”€ æ”¯ç·š/
â”‚   â””â”€â”€ æ—¥å¸¸/
â”œâ”€â”€ æ•¸å€¼/
â”‚   â”œâ”€â”€ è§’è‰²æ•¸æ“š/
â”‚   â””â”€â”€ éŠæˆ²è¨­å®š/
â””â”€â”€ äº‹ä»¶/
    â”œâ”€â”€ è§¸ç™¼æ¢ä»¶/
    â””â”€â”€ çå‹µé…ç½®/
```

---

## ğŸ“‹ JSON æ•¸æ“šçµæ§‹ (æœªä¾†æ¶æ§‹)

### ğŸ”„ é¤Šæˆæ¨¡å¼å°è©±æ•¸æ“š (åŸºæ–¼å¯¦éš›JSONçµæ§‹)
```json
// GrowMode_1.json - é¤Šæˆæ¨¡å¼å°è©±æ•¸æ“šçµæ§‹ (å¯¦éš›ç¢ºå®šæ ¼å¼)
{
  "EventIndex": 0,
  "DailogIndex": [
    {
      "ActorName": "GirlFriend",
      "Dailog": "æ—©å®‰ï¼ŒpNameï¼ä»Šå¤©æ„Ÿè¦ºå¦‚ä½•ï¼Ÿ", 
      "ActorFace": "normal"
    },
    {
      "ActorName": "Player", 
      "Dailog": "æ—©å®‰ç”±é¦™ï¼Œçœ‹åˆ°ä½ å°±è¦ºå¾—å¾ˆæœ‰ç²¾ç¥å‘¢ï¼",
      "ActorFace": "happy"
    },
    {
      "ActorName": "Chorus",
      "Dailog": "ç›®å‰å·²åº¦éï¼š 1 å¤©  ä»Šæ—¥ç‚ºæ˜ŸæœŸ  1     æ˜¯å€‹æ¶¼çˆ½çš„æ—©æ™¨ï¼Œè€Œä»Šå¤©ä¹Ÿæ­£è¦é–‹å§‹\\nå¥½æ„Ÿåº¦ç‚ºï¼š 12   æ·«äº‚åº¦ç‚ºï¼š 5",
      "ActorFace": "nothiog"
    }
  ]
}
```

#### ğŸ“‹ **JSONçµæ§‹å°æ‡‰è¡¨** (é¤Šæˆæ¨¡å¼ - å¯¦éš›æ ¼å¼)

| JSONæ¬„ä½ | è³‡æ–™é¡å‹ | èªªæ˜ | å°æ‡‰ç¾æœ‰ç³»çµ± |
|----------|----------|------|-------------|
| `EventIndex` | int | äº‹ä»¶ç·¨è™Ÿï¼Œå°æ‡‰ç‰¹å®šäº’å‹•é¡å‹ | `PlayerActorTest.OnClickActor()` åƒæ•¸ |
| `DailogIndex` | array | å°è©±ä¸²åˆ—ï¼ŒåŒ…å«å¤šå€‹å°è©±å°è±¡ | `TextBoxTestPlaying.getTextDate[]` |
| `ActorName` | string | æ¼”å“¡åç¨± (Player/GirlFriend/Chorus) | `DialogDataDetail.speaker` æšèˆ‰è½‰æ› |
| `Dailog` | string | å°è©±å…§å®¹ï¼Œæ”¯æ´ `pName` ç©å®¶åç¨±æ›¿æ› | `DialogDataDetail.sentence` + åç¨±æ›¿æ› |
| `ActorFace` | string | æ¼”å“¡è¡¨æƒ… (normal/happy/nothiog ç­‰) | `DialogDataDetail.actorFace` æšèˆ‰å°æ‡‰ |

### ğŸ¬ åŠ‡æƒ…æ¨¡å¼å°è©±æ•¸æ“š (æœªä¾†é¡ä¼¼çµæ§‹)
```json
// StoryMode_1.json - åŠ‡æƒ…æ¨¡å¼å°è©±æ•¸æ“šçµæ§‹ (é è¨ˆæ ¼å¼)
{
  "EventIndex": 1,
  "SceneName": "bedroom_morning",
  "BackgroundImages": ["bg_bedroom_morning"],
  "CGImages": [],
  "DailogIndex": [
    {
      "ActorName": "Chorus",
      "Dailog": "é™½å…‰é€éçª—ç°¾ç‘é€²æˆ¿é–“ï¼Œæ–°çš„ä¸€å¤©é–‹å§‹äº†...",
      "ActorFace": "nothiog",
      "NeedTransition": false,
      "AudioClip": null
    },
    {
      "ActorName": "GirlFriend", 
      "Dailog": "pNameï¼Œè©²èµ·åºŠäº†å–”ï½",
      "ActorFace": "happy",
      "NeedTransition": true,
      "AudioClip": "yuka_wakeup_01"
    }
  ]
}
```

### ğŸ­ èˆŠç‰ˆåŠ‡æƒ…æ•¸æ“šçµæ§‹ (Drama.json - åƒè€ƒç”¨)
```json
{
  "DailogIndex": "1",
  "ActorName": "æ—ç™½",
  "Dailog": "æ¸¬è©¦1",
  "ActorFace": "Neutral",
  "ActorAnimator": "NoActor",
  "FadeType": "FALSE",
  "CGController": "NoActor",
  "Spinecontroller": "NoActor"
}
```

### ğŸ“– ç´¢å¼•æ•¸æ“šçµæ§‹ (Index.json)
```json
{
  "ç·¨è™Ÿå–®ä½": "0",
  "è¡Œå‹•ç·¨è™Ÿ": "é–‹è©±å•å€™"
}
```

### ğŸ® éŠæˆ²æ•¸æ“šçµæ§‹ (Game.json)
```json
{
  "GameState": "Playing",
  "CurrentChapter": 3,
  "CurrentScene": 5,
  "PlayerData": {
    "friendship": 750,
    "slutty": 25,
    "lust": 12
  }
}
```

---

## ğŸ® GameManager å”èª¿æ©Ÿåˆ¶

### ğŸ¯ JSON æ•¸æ“šåˆ†é…æµç¨‹
```csharp
public class GameManager : MonoBehaviour
{
    public void ProcessJSONData(string jsonData)
    {
        // è§£æ JSON æ•¸æ“š
        DialogData dialogData = JsonUtility.FromJson<DialogData>(jsonData);
        
        // åˆ†é…ä»»å‹™çµ¦å„ Controller
        AssignTasksToControllers(dialogData);
    }
    
    private void AssignTasksToControllers(DialogData data)
    {
        // TextBox é¡¯ç¤ºæ–‡å­—
        textBoxController.DisplayText(data.Dailog, data.ActorName);
        
        // ActorManager æ§åˆ¶å‹•ç•«
        if (data.ActorAnimator != "NoActor")
        {
            actorManager.PlayAnimation(data.ActorAnimator);
        }
        
        // UIManager æ›´æ–° UI
        if (data.FadeType == "TRUE")
        {
            uiManager.ApplyFadeEffect();
        }
        
        // CG Controller è™•ç† CG
        if (data.CGController != "NoActor")
        {
            cgController.ProcessCGCommand(data.CGController);
        }
        
        // Spine Controller è™•ç† Spine å‹•ç•«
        if (data.Spinecontroller != "NoActor")
        {
            spineController.ProcessSpineCommand(data.Spinecontroller);
        }
    }
}
```

### ğŸ”„ å”åŒåŸ·è¡Œæ©Ÿåˆ¶
```
JSON æŒ‡ä»¤è§£æ â†’ ä¸¦è¡Œä»»å‹™åˆ†é… â†’ å„ç³»çµ±åŒæ­¥åŸ·è¡Œ â†’ å®Œæˆç¢ºèª â†’ ä¸‹ä¸€æ­¥
      â†“              â†“                â†“            â†“        â†“
   æŒ‡ä»¤é©—è­‰      ä»»å‹™éšŠåˆ—ç®¡ç†        ç‹€æ…‹ç›£æ§      çµæœæ”¶é›†   é€²åº¦æ¨é€²
```

---

## ğŸ¯ å„Controllerè·è²¬åˆ†å·¥

### ğŸ“ TextBoxController
```csharp
public class TextBoxController : MonoBehaviour
{
    public void DisplayText(string dialog, string actorName)
    {
        // é¡¯ç¤ºå°è©±æ–‡å­—
        // è™•ç†æ‰“å­—æ©Ÿæ•ˆæœ
        // ç®¡ç†è§’è‰²åç¨±é¡¯ç¤º
    }
}
```

### ğŸ­ ActorManager  
```csharp
public class ActorManager : MonoBehaviour
{
    public void PlayAnimation(string animationName)
    {
        // æ’­æ”¾è§’è‰²å‹•ç•«
        // ç®¡ç†è§’è‰²è¡¨æƒ…
        // æ§åˆ¶è§’è‰²ä½ç½®
    }
}
```

### ğŸ–¼ï¸ UIManager
```csharp
public class UIManager : MonoBehaviour
{
    public void ApplyFadeEffect()
    {
        // æ·¡å…¥æ·¡å‡ºæ•ˆæœ
        // UIå…ƒç´ é¡¯ç¤ºéš±è—
        // ä»‹é¢åˆ‡æ›å‹•ç•«
    }
}
```

### ğŸ¨ CGController
```csharp
public class CGController : MonoBehaviour
{
    public void ProcessCGCommand(string command)
    {
        switch (command)
        {
            case "ShowCG": DisplayCG(); break;
            case "SwitchPage": SwitchCGPage(); break;
            case "ExitCG": HideCG(); break;
        }
    }
}
```

### ğŸ¦´ SpineController
```csharp
public class SpineController : MonoBehaviour
{
    public void ProcessSpineCommand(string command)
    {
        switch (command)
        {
            case "ShowSpineAnimator": ShowSpineAnimation(); break;
            case "SwitchSpineAnimator": SwitchSpineAnimation(); break;
            case "ExitSpineAnimator": HideSpineAnimation(); break;
        }
    }
}
```

---

## ğŸ“Š ç¾æœ‰ç³»çµ±åˆ†æ

### ğŸ” ç•¶å‰å¯¦ç¾ (Scripts_NEW)
```csharp
// DataStructures.cs - åŸºç¤æ•¸æ“šçµæ§‹
[Serializable]
public class DialogLine
{
    public string EventIndex;        // äº‹ä»¶ç·¨è™Ÿ
    public string DialogIndex;       // å°è©±ç·¨è™Ÿ
    public string ActorName;         // è§’è‰²åç¨±
    public string Dialog;            // å°è©±å…§å®¹
    public string ActorFace;         // è§’è‰²è¡¨æƒ…
    public string ActorAnimator;     // è§’è‰²å‹•ç•«
}

// JsonDataManager.cs - JSON æ•¸æ“šç®¡ç†èˆ‡ LINQ æŸ¥è©¢
public class JsonDataManager : MonoBehaviour
{
    // å–®ä¾‹æ¨¡å¼å¯¦ç¾
    public static JsonDataManager Instance { get; private set; }
    
    // æ ¸å¿ƒæ•¸æ“šå­˜å„²
    [SerializeField] private List<DialogLine> allDialogs = new List<DialogLine>();
    [SerializeField] private bool isDataLoaded = false;
    [SerializeField] private string currentJsonFileName = "GameTest";
    
    // LINQ æŸ¥è©¢æ–¹æ³•
    public DialogLine GetDialog(int eventIndex, int dialogIndex);
    public List<DialogLine> GetEventDialogs(int eventIndex);
    public List<DialogLine> GetActorDialogs(string actorName);
    
    // æ•¸æ“šç‹€æ…‹ç®¡ç†
    public bool IsDataLoaded();
    public int GetTotalDialogCount();
    public int GetTotalEventCount();
}

// DialogManager.cs - å°è©±ç®¡ç†æ¸¬è©¦
public class DialogManager : MonoBehaviour
{
    // å®Œæ•´çš„æ¸¬è©¦ç³»çµ±
    void TestDialogSystem()
    {
        // æ¸¬è©¦ç‰¹å®šå°è©±æŸ¥è©¢
        // æ¸¬è©¦äº‹ä»¶å°è©±åˆ—è¡¨
        // æ¸¬è©¦è§’è‰²å°è©±ç¯©é¸
        // æ¸¬è©¦ç³»çµ±ç‹€æ…‹
    }
}

// JsonHelper.cs - JSON é™£åˆ—è§£æè¼”åŠ©
public static class JsonHelper
{
    public static T[] FromJson<T>(string json)
    {
        return JsonUtility.FromJson<Wrapper<T>>($"{\"Items\":{json}}").Items;
    }
}
```

### âœ… å·²å¯¦ç¾åŠŸèƒ½
- **âœ… JSON to List è½‰æ›**: ä½¿ç”¨ JsonHelper å¯¦ç¾é™£åˆ—è§£æ
- **âœ… LINQ æ•¸æ“šæŸ¥è©¢**: å®Œæ•´çš„äº‹ä»¶ã€å°è©±ã€è§’è‰²ç¯©é¸
- **âœ… å–®ä¾‹æ¨¡å¼ç®¡ç†**: å…¨åŸŸæ•¸æ“šç®¡ç†å™¨
- **âœ… æ•¸æ“šç‹€æ…‹ç›£æ§**: è¼‰å…¥ç‹€æ…‹å’Œæ•¸æ“šçµ±è¨ˆ
- **âœ… æ¸¬è©¦é©—è­‰ç³»çµ±**: å®Œæ•´çš„åŠŸèƒ½æ¸¬è©¦

### ğŸš§ ç¼ºå°‘çš„é—œéµçµ„ä»¶
- **âŒ é€²åº¦åµæ¸¬ç³»çµ±**: æ±ºå®šè¼‰å…¥å“ªå€‹ JSON æª”æ¡ˆçš„é‚è¼¯
- **âŒ GameManager æ•´åˆ**: å°‡æ•¸æ“šåˆ†ç™¼çµ¦å„å­ç³»çµ±çš„æ©Ÿåˆ¶
- **âŒ å‹•æ…‹ JSON åˆ‡æ›**: æ ¹æ“šéŠæˆ²é€²åº¦å‹•æ…‹è¼‰å…¥ä¸åŒæª”æ¡ˆ

---

## ğŸ”„ æ¶æ§‹é·ç§»è·¯å¾‘

### ğŸ“‹ éšæ®µä¸€ï¼šåŠ‡æƒ…ç³»çµ±é·ç§»
```
ScriptableObject å°è©±æ•¸æ“š â†’ JSON å°è©±æ•¸æ“š
    â†“                        â†“
å›ºå®šæ•¸æ“šçµæ§‹              éˆæ´»æ•¸æ“šçµæ§‹
ç¡¬ç·¨ç¢¼é‚è¼¯                é…ç½®é©…å‹•é‚è¼¯
```

### ğŸ“‹ éšæ®µäºŒï¼šæ•¸å€¼ç³»çµ±é·ç§»
```
PlayerPrefs æ•¸å€¼å­˜å„² â†’ JSON æ•¸å€¼ç®¡ç†
    â†“                    â†“
åˆ†æ•£å¼å­˜å„²              é›†ä¸­å¼ç®¡ç†
é›£ä»¥ç‰ˆæœ¬æ§åˆ¶            æ˜“æ–¼å‚™ä»½å’Œé·ç§»
```

### ğŸ“‹ éšæ®µä¸‰ï¼šäº‹ä»¶ç³»çµ±é·ç§»
```
ç¡¬ç·¨ç¢¼äº‹ä»¶è§¸ç™¼ â†’ JSON é…ç½®äº‹ä»¶
    â†“                â†“
ç¨‹å¼ç¢¼ä¿®æ”¹è§¸ç™¼      é…ç½®æ–‡ä»¶é©…å‹•
é›£ä»¥å‹•æ…‹èª¿æ•´        éˆæ´»çš„äº‹ä»¶ç®¡ç†
```

### ğŸ“‹ éšæ®µå››ï¼šå®Œæ•´æ•´åˆ
```
çµ±ä¸€ JSON æ¶æ§‹ â†’ å®Œæ•´æ•¸æ“šé©…å‹•ç³»çµ±
    â†“                â†“
å–®ä¸€æ•¸æ“šæº          å®Œæ•´çš„å…§å®¹ç®¡ç†
ç‰ˆæœ¬æ§åˆ¶å‹å¥½        æ”¯æ´æœ¬åœ°åŒ–å’ŒMOD
```

---

## ğŸ¯ æœªä¾†æ¶æ§‹å„ªå‹¢

### ğŸš€ é–‹ç™¼æ•ˆç‡æå‡
- **å…§å®¹èˆ‡ç¨‹å¼åˆ†é›¢**: ä¼åŠƒå¯ç›´æ¥ä¿®æ”¹ JSON å…§å®¹
- **å¿«é€Ÿè¿­ä»£**: ç„¡éœ€é‡æ–°ç·¨è­¯å³å¯æ›´æ–°å…§å®¹
- **ç‰ˆæœ¬æ§åˆ¶å‹å¥½**: JSON æ–‡ä»¶æ˜“æ–¼ç‰ˆæœ¬ç®¡ç†

### ğŸŒ æ“´å±•æ€§å¢å¼·
- **æœ¬åœ°åŒ–æ”¯æ´**: å¤šèªè¨€ç‰ˆæœ¬ç®¡ç†
- **MOD æ”¯æ´**: ç”¨æˆ¶å¯è‡ªå®šç¾©å…§å®¹
- **å‹•æ…‹è¼‰å…¥**: æ”¯æ´ DLC å’Œæ›´æ–°å…§å®¹

### ğŸ›¡ ç¶­è­·æ€§æ”¹å–„
- **æ•¸æ“šé©—è­‰**: çµ±ä¸€çš„æ•¸æ“šæ ¼å¼é©—è­‰
- **éŒ¯èª¤è™•ç†**: å®Œå–„çš„ç•°å¸¸è™•ç†æ©Ÿåˆ¶
- **å‚™ä»½æ¢å¾©**: ç°¡å–®çš„æ•¸æ“šå‚™ä»½å’Œæ¢å¾©

---

## ğŸ”§ é–‹ç™¼å»ºè­°

### ğŸ’¡ ç¾éšæ®µé–‹ç™¼æŒ‡å°
1. **ä½¿ç”¨ç¾æœ‰ç³»çµ±**: ç›®å‰é–‹ç™¼ä»åŸºæ–¼ ScriptableObject
2. **æº–å‚™é·ç§»**: è¨­è¨ˆæ™‚è€ƒæ…® JSON é·ç§»çš„å¯è¡Œæ€§
3. **æ¸¬è©¦æ–°æ¶æ§‹**: åœ¨ Scripts_NEW ä¸­æ¸¬è©¦ JSON åŠŸèƒ½
4. **æ–‡æª”æ›´æ–°**: åŠæ™‚æ›´æ–°æ¶æ§‹è®Šæ›´æ–‡æª”

### ğŸ¯ é·ç§»æº–å‚™å·¥ä½œ
1. **æ•¸æ“šæ˜ å°„**: å»ºç«‹ ScriptableObject åˆ° JSON çš„æ˜ å°„
2. **å·¥å…·é–‹ç™¼**: é–‹ç™¼æ•¸æ“šè½‰æ›å·¥å…·
3. **æ¸¬è©¦è¨ˆåŠƒ**: åˆ¶å®šå®Œæ•´çš„é·ç§»æ¸¬è©¦è¨ˆåŠƒ
4. **å›æ»¾ç­–ç•¥**: æº–å‚™é·ç§»å¤±æ•—çš„å›æ»¾æ–¹æ¡ˆ

---

---

## ğŸ”— **ç›¸é—œæ¶æ§‹æ–‡ä»¶å°è¦½**

### ğŸ“Š **æ¨¹ç‹€è¿´åœˆæ¶æ§‹ç›¸é—œæ–‡ä»¶**
- **ğŸ® éŠæˆ²æµç¨‹ç®¡ç†**: [`éŠæˆ²æµç¨‹æ¶æ§‹.md`](./éŠæˆ²æµç¨‹æ¶æ§‹.md) - äº†è§£ GameManager å¦‚ä½•æ§åˆ¶è¿´åœˆ
- **ğŸ­ æ¼”å“¡ç³»çµ±æ•´åˆ**: [`æ¼”å“¡æ§åˆ¶æ¶æ§‹.md`](./æ¼”å“¡æ§åˆ¶æ¶æ§‹.md) - åŠ‡æƒ…æ¨¡å¼ä¸­çš„è§’è‰²è¡¨æƒ…æ§åˆ¶
- **ğŸ’¬ å°è©±ç³»çµ±å¯¦ç¾**: [`TextBoxå°è©±ç³»çµ±.md`](./TextBoxå°è©±ç³»çµ±.md) - è‘‰ç¯€é»å…§å®¹çš„å…·é«”å±•ç¤ºæ–¹å¼
- **ğŸ¨ UIè§¸ç™¼æ©Ÿåˆ¶**: [`UIæ¶æ§‹è¨­è¨ˆ.md`](./UIæ¶æ§‹è¨­è¨ˆ.md) - ç©å®¶è§¸ç™¼äº‹ä»¶çš„UIå¯¦ç¾

### ğŸ”„ **æ•¸æ“šæµå¾ªç’°é—œéµç¯€é»**
- **é€²åº¦åµæ¸¬** â†’ åƒè€ƒ [`CodeModules/SaveDataManager.md`](../CodeModules/SaveDataManager.md)
- **JSONç®¡ç†** â†’ åƒè€ƒ [`CodeModules/GameManagerTest.md`](../CodeModules/GameManagerTest.md)  
- **æ•¸å€¼è¨˜éŒ„** â†’ åƒè€ƒ [`CodeModules/NumericalRecords.md`](../CodeModules/README.md)
- **æ™‚é–“ç®¡ç†** â†’ åƒè€ƒ [`CodeModules/TimeManagerTest.md`](../CodeModules/TimeManagerTest.md)

### ğŸ¯ **å¯¦ä½œé–‹ç™¼è·¯å¾‘**
1. **ç†è§£æ¨¹ç‹€çµæ§‹** â†’ å…ˆè®€æœ¬æ–‡ä»¶çš„æ¨¹ç‹€è¿´åœˆè¨­è¨ˆ
2. **å¯¦ç¾è§¸ç™¼æ©Ÿåˆ¶** â†’ é–±è®€ [`UIæ¶æ§‹è¨­è¨ˆ.md`](./UIæ¶æ§‹è¨­è¨ˆ.md)
3. **æ•´åˆåŠ‡æƒ…æ’­æ”¾** â†’ é–±è®€ [`TextBoxå°è©±ç³»çµ±.md`](./TextBoxå°è©±ç³»çµ±.md)
4. **å®Œå–„è§’è‰²è¡¨ç¾** â†’ é–±è®€ [`æ¼”å“¡æ§åˆ¶æ¶æ§‹.md`](./æ¼”å“¡æ§åˆ¶æ¶æ§‹.md)

---

## ğŸ’¬ Claude ä½¿ç”¨æç¤º

### ğŸ” **æ¨¹ç‹€è¿´åœˆæ¶æ§‹ç†è§£**
1. **æ¨¹ç‹€çµæ§‹**: ç†è§£æ•¸æ“šçš„åˆ†å±¤ç®¡ç† (æ ¹ç¯€é»â†’åˆ†æ”¯â†’è‘‰ç¯€é»)
2. **è¿´åœˆæ©Ÿåˆ¶**: æŒæ¡é¤Šæˆâ†’åŠ‡æƒ…â†’é¤Šæˆçš„å¾ªç’°é‚è¼¯
3. **è§¸ç™¼æ¢ä»¶**: æ˜ç¢ºä»€éº¼æƒ…æ³ä¸‹æœƒé€²å…¥åŠ‡æƒ…æ¨¡å¼
4. **æ•¸æ“šåŒæ­¥**: ç¢ºä¿æ¨¹ç¯€é»æ›´æ–°èˆ‡éŠæˆ²ç‹€æ…‹ä¸€è‡´

### ğŸ›  **é–‹ç™¼å»ºè­°** (åŸºæ–¼æ¨¹ç‹€è¿´åœˆ)
1. **æ–°åŠŸèƒ½é–‹ç™¼**: è€ƒæ…®åœ¨å“ªå€‹æ¨¹ç¯€é»æ·»åŠ æ•¸æ“š
2. **ä¿®æ”¹ç¾æœ‰åŠŸèƒ½**: è©•ä¼°å°è¿´åœˆæµç¨‹çš„å½±éŸ¿
3. **æ¸¬è©¦é©—è­‰**: ç¢ºä¿æ¨¹ç‹€æ•¸æ“šçš„å®Œæ•´æ€§
4. **æ€§èƒ½å„ªåŒ–**: é¿å…ä¸å¿…è¦çš„æ¨¹éæ­·æ“ä½œ

### ğŸ¯ **æ¶æ§‹é·ç§»é—œéµé»**
- **æ¨¹æ ¹ç©©å®šæ€§** - ç¢ºä¿é€²åº¦åµæ¸¬çš„æº–ç¢ºæ€§
- **åˆ†æ”¯ä¸€è‡´æ€§** - ä¿è­‰JSONæ–‡ä»¶é¸æ“‡é‚è¼¯æ­£ç¢º
- **è‘‰ç¯€é»å®Œæ•´æ€§** - ç¢ºä¿å…·é«”å…§å®¹æ•¸æ“šç„¡éºæ¼  
- **è¿´åœˆå¥å£¯æ€§** - é˜²æ­¢ç„¡é™å¾ªç’°æˆ–ç‹€æ…‹å¡æ­»

### âš ï¸ **ä¿®æ”¹æ•¸æ“šæµæ™‚æ³¨æ„**
- **æ¨¹ç‹€çµæ§‹è®Šæ›´** â†’ éœ€è¦æ›´æ–° ProgressDetector é‚è¼¯
- **è¿´åœˆæ¢ä»¶ä¿®æ”¹** â†’ å¯èƒ½å½±éŸ¿éŠæˆ²é€²åº¦
- **JSONçµæ§‹è®ŠåŒ–** â†’ éœ€è¦å…¼å®¹èˆŠç‰ˆæœ¬æ•¸æ“š
- **è§¸ç™¼æ¢ä»¶èª¿æ•´** â†’ å½±éŸ¿åŠ‡æƒ…æ’­æ”¾æ™‚æ©Ÿ

---

**æœ€å¾Œæ›´æ–°**: 2025-07-29  
**ç‰ˆæœ¬**: 3.0 (æ¨¹ç‹€è¿´åœˆæ¶æ§‹)  
**ç¶­è­·è€…**: é–‹ç™¼åœ˜éšŠ + Claude AI

> ğŸŒ³ **æ ¸å¿ƒæé†’**: LoveTide çš„æ¨¹ç‹€è¿´åœˆæ•¸æ“šçµæ§‹æ˜¯æ•´å€‹éŠæˆ²çš„æ ¸å¿ƒï¼Œä»»ä½•ä¿®æ”¹éƒ½æ‡‰è©²å……åˆ†è€ƒæ…®å°æ•´é«”å¾ªç’°çš„å½±éŸ¿ã€‚é–‹ç™¼æ™‚è«‹å„ªå…ˆç¢ºä¿æ•¸æ“šæµçš„ç©©å®šæ€§å’Œä¸€è‡´æ€§ã€‚